{"version":3,"file":"js/837.1680843427896.7cf9ec7c29ef3488a9ec.js","mappings":"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","sources":["webpack:///./src/Components/ServiceNotConfigured/ServiceNotConfigured.js","webpack:///./src/Components/SystemDetail/SystemRecommendations.js","webpack:///./src/Utilities/api.js","webpack:///./src/store/actions.js"],"sourcesContent":["import {\n    Bullseye, EmptyState, EmptyStateBody,\n    EmptyStateIcon, Title, Stack,\n    StackItem, Button\n} from '@patternfly/react-core';\nimport { WrenchIcon } from '@patternfly/react-icons';\nimport React from 'react';\nimport { GETTING_STARTED_URL } from '../../constants';\nimport './ServiceNotConfigured.scss';\n\nexport const ServiceNotConfigured = () => (\n    <Bullseye>\n        <EmptyState className=\"empty-state-not-configured\">\n            <EmptyStateIcon icon={WrenchIcon} />\n            <Title headingLevel=\"h5\" size=\"lg\">\n              Resource optimization isn&apos;t configured yet\n            </Title>\n            <EmptyStateBody>\n                <Bullseye>\n                    <Stack hasGutter>\n                        <StackItem>\n                            Resource Optimization requires installing and configuring Performance Co-Pilot on\n                            the client system.\n                        </StackItem>\n                        <StackItem>\n                            Check the documentation to find how to configure Resource Optimization with Ansible. An\n                            alternative method which does not require Ansible is also described.\n                        </StackItem>\n                        <StackItem>\n                            After configuring Resource Optimization, it may take up to 24 hours until suggestions\n                            are available.\n                        </StackItem>\n                    </Stack>\n                </Bullseye>\n            </EmptyStateBody>\n            <Button\n                component=\"a\"\n                href={GETTING_STARTED_URL}\n                target=\"_blank\"\n                variant=\"primary\">\n                Getting started documentation\n            </Button>\n        </EmptyState>\n    </Bullseye>\n);\n","import React, { Suspense } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { PrimaryToolbar } from '@redhat-cloud-services/frontend-components/PrimaryToolbar';\nimport { TableToolbar } from '@redhat-cloud-services/frontend-components/TableToolbar';\nimport { ServiceNotConfigured } from '../ServiceNotConfigured/ServiceNotConfigured';\nimport { loadSysRecs } from '../../store/actions';\nimport {\n    Card,\n    CardBody,\n    Title,\n    Stack,\n    StackItem,\n    Pagination\n} from '@patternfly/react-core';\nimport debounce from 'lodash/debounce';\nconst RecommendationsTable = React.lazy(() => import('./RecommendationsTable'));\n/**\n * This is a dumb component that only recieves properties from a smart component.\n * Dumb components are usually functions and not classes.\n *\n * @param props the props given by the smart component.\n */\nconst defaultFilters = {\n    name: {\n        label: 'Name',\n        value: ''\n    }\n};\n\nexport const isEmptyFilters = (activeFilters) => Object.values(activeFilters).find(\n    (item) => item?.value?.length > 0 || item?.length > 0\n);\n\nexport const constructActiveFilters = (activeFilters) => Object.entries(activeFilters).map(([key, { label, value } = {}]) => ({\n    category: label,\n    chipKey: key,\n    chips:\n        value?.length > 0\n            ? Array.isArray(value)\n                ? value.map((item) => ({ name: item })) : [{ name: value }]\n            : []\n}));\n\nexport const onDeleteFilter = (activeFilters, itemsToRemove) => {\n    const currItem = itemsToRemove[0];\n    return {\n        ...activeFilters,\n        [currItem?.chipKey]: {\n            ...(activeFilters[currItem?.chipKey] || {}),\n            value: Array.isArray(activeFilters[currItem?.chipKey]?.value)\n                ? activeFilters[currItem?.chipKey]?.value?.filter(\n                    (item) => !currItem?.chips?.find(({ name }) => name === item)\n                )\n                : ''\n        }\n    };\n};\n\nclass SystemRecommendations extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            page: 1,\n            perPage: 10,\n            inventoryId: props.inventoryId,\n            activeFilters: defaultFilters\n        };\n        // Note that 800 is used widely accross platform\n        this.debouncedThrottleHandleChange = debounce(\n            this.throttleHandleChange.bind(this), 800\n        );\n\n    }\n\n    async componentDidMount() {\n        await this.requestLoadSysRecs();\n    }\n\n    async throttleHandleChange(options) {\n        await this.requestLoadSysRecs(options);\n    }\n\n    async requestLoadSysRecs(options = {}) {\n        const params = {\n            page: this.state.page,\n            perPage: this.state.perPage,\n            description: this.state?.descriptionFilter,\n            ...options\n        };\n        await this.props.loadSysRecs(this.state.inventoryId, params);\n    }\n\n    applyFilters(filters) {\n        this.setState({\n            activeFilters: filters,\n            descriptionFilter: filters?.name?.value,\n            page: 1\n        });\n        this.debouncedThrottleHandleChange({\n            description: filters?.name?.value,\n            page: 1\n        });\n    }\n\n    async updatePagination(pagination) {\n        this.setState(pagination);\n        await this.requestLoadSysRecs(pagination);\n    }\n\n    render() {\n        const { totalRecs, recsData, emptyState  } = this.props;\n        const { page, perPage } = this.state;\n        return (\n            emptyState ? <ServiceNotConfigured/> : (\n                <Suspense fallback=\"\">\n                    <Stack hasGutter>\n                        <StackItem>\n                            <Title headingLevel=\"h3\" size=\"2xl\">\n                                Suggestions\n                            </Title>\n                        </StackItem>\n                        <StackItem>\n                            <Card>\n                                <CardBody>\n                                    <PrimaryToolbar className=\"ros-primary-toolbar\" pagination={{\n                                        page: (totalRecs === 0 ? 0 : page),\n                                        perPage,\n                                        itemCount: (totalRecs ? totalRecs : 0),\n                                        onSetPage: (_e, page) => this.updatePagination({ page, perPage: this.state.perPage }),\n                                        onPerPageSelect: (_e, perPage) => this.updatePagination({ page: 1, perPage }),\n                                        isCompact: true,\n                                        widgetId: 'ros-pagination-top'\n                                    }}\n                                    filterConfig={{\n                                        items: [{\n                                            label: defaultFilters.name.label,\n                                            type: 'text',\n                                            filterValues: {\n                                                key: 'text-filter',\n                                                onChange: (event, value) => {\n                                                    const activeFilters = {\n                                                        ...this.state.activeFilters,\n                                                        name: {\n                                                            ...(this.state.activeFilters?.name || {}),\n                                                            value\n                                                        }\n                                                    };\n                                                    this.applyFilters(activeFilters);\n                                                },\n                                                value: this.state.activeFilters?.name?.value || '',\n                                                placeholder: 'Filter by name'\n                                            }\n                                        }]\n                                    }}\n                                    activeFiltersConfig={{\n                                        filters: isEmptyFilters(this.state.activeFilters)\n                                            ? constructActiveFilters(this.state.activeFilters)\n                                            : [],\n                                        onDelete: (event, itemsToRemove, isAll) => {\n                                            if (isAll) {\n                                                this.applyFilters(defaultFilters);\n                                            } else {\n                                                const filtersOnDeletion = onDeleteFilter(this.state.activeFilters, itemsToRemove);\n                                                this.applyFilters(filtersOnDeletion);\n                                            }\n                                        }\n                                    }}\n                                    />\n                                    { (!this.props.loading) ? (<RecommendationsTable recommendations = { recsData }/>) : null }\n                                    <TableToolbar>\n                                        <Pagination\n                                            itemCount={ totalRecs ? totalRecs : 0 }\n                                            widgetId='ros-pagination-bottom'\n                                            page={ totalRecs === 0 ? 0 : page }\n                                            perPage={ perPage }\n                                            variant='bottom'\n                                            onSetPage={(_e, page) => this.updatePagination({ page, perPage: this.state.perPage })}\n                                            onPerPageSelect={(_e, perPage) => this.updatePagination({ page: 1, perPage })}\n                                        />\n                                    </TableToolbar>\n                                </CardBody>\n                            </Card>\n                        </StackItem>\n                    </Stack>\n                </Suspense>\n            )\n        );\n    }\n}\n\nSystemRecommendations.propTypes = {\n    inventoryId: PropTypes.string,\n    loading: PropTypes.bool,\n    recsData: PropTypes.array,\n    totalRecs: PropTypes.number,\n    loadSysRecs: PropTypes.func,\n    emptyState: PropTypes.bool\n};\n\nconst mapStateToProps = (state, props) => {\n    return {\n        loading: state.systemRecsReducer?.loading,\n        recsData: state.systemRecsReducer?.recommendationsData,\n        totalRecs: state.systemRecsReducer?.totalRecommendations,\n        emptyState: state.systemRecsReducer?.emptyState,\n        ...props\n    };\n};\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        loadSysRecs: (uuid, params = {}) => dispatch(loadSysRecs(uuid, params))\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(SystemRecommendations);\n","import { SortByDirection } from '@patternfly/react-table';\nimport { ROS_API_ROOT, SYSTEMS_API_ROOT, IS_CONFIGURED_API, CRC_PDF_GENERATE_API } from '../constants';\n\nexport function handleErrors(response) {\n    if (!response.ok) {\n        throw Error(response.statusText);\n    }\n\n    return response;\n}\n\nexport const isROSConfigured = () => {\n    let url = new URL(\n        ROS_API_ROOT + IS_CONFIGURED_API,\n        window.location.origin\n    );\n    let response = fetch(url).then(handleErrors)\n    .then(res =>  res.json()).then(result => result);\n\n    return response;\n};\n\nexport const fetchSystemDetail = inventoryId => {\n    let url = new URL(\n        ROS_API_ROOT + SYSTEMS_API_ROOT + `/${inventoryId}`,\n        window.location.origin\n    );\n    let response = fetch(url).then(handleErrors)\n    .then(res =>  res.json()).then(result => result);\n\n    return response;\n};\n\nexport const fetchSystemRecommendations = (inventoryId, options = {}) => {\n    let params = {\n        limit: options.perPage,\n        offset: (options.page - 1) * options.perPage\n    };\n    if (options.description && options.description.trim()) {\n        params = { ...params, description: options.description };\n    }\n\n    let url = new URL(\n        ROS_API_ROOT + SYSTEMS_API_ROOT + `/${inventoryId}/suggestions`,\n        window.location.origin\n    );\n    url.search = new URLSearchParams(params).toString();\n    let response = fetch(url).then((resp) => {\n        if (!resp.ok && resp.status === 404) {\n            return { hasError: true };\n        } else if (!resp.ok) {\n            throw Error(resp.statusText);\n        }\n\n        return resp.json();\n    })\n    .then(result => result);\n\n    return response;\n};\n\nexport const fetchSystems = async (fetchParams) => {\n    const { perPage, orderBy, orderHow  } = fetchParams || {};\n\n    const sortingHeader = {\n        display_name: 'display_name', /* eslint-disable-line camelcase */\n        os: 'os',\n        'performance_utilization.cpu': 'cpu',\n        'performance_utilization.memory': 'memory',\n        'performance_utilization.max_io': 'max_io',\n        number_of_suggestions: 'number_of_suggestions', /* eslint-disable-line camelcase */\n        state: 'state',\n        report_date: 'report_date' /* eslint-disable-line camelcase */\n    };\n\n    let params = {\n        order_by: sortingHeader[orderBy] || 'report_date', /* eslint-disable-line camelcase */\n        order_how: orderHow || SortByDirection.desc, /* eslint-disable-line camelcase */\n        limit: perPage ? perPage : -1,\n        ...fetchParams?.page && {\n            offset: (fetchParams.page - 1) * fetchParams.perPage\n        },\n        ...fetchParams?.filters?.hostnameOrId && {\n            display_name: fetchParams.filters.hostnameOrId /* eslint-disable-line camelcase */\n        }\n    };\n\n    let url = new URL(ROS_API_ROOT + SYSTEMS_API_ROOT,  window.location.origin);\n    let query = new URLSearchParams(params);\n    fetchParams?.stateFilter?.forEach((stateFilterValue) => {\n        query.append('state', stateFilterValue);\n    });\n    fetchParams?.osFilter?.forEach((osFilterValue) => {\n        query.append('os', osFilterValue);\n    });\n    url.search = query.toString();\n    return fetch(url).then((res) => {\n        if (!res.ok) {\n            throw Error(res.statusText);\n        }\n\n        return res;\n    }).then(res =>  res.json());\n};\n\nexport const fetchSystemHistory = (inventoryId, limit) => {\n    let url = new URL(\n        `${ROS_API_ROOT}${SYSTEMS_API_ROOT}/${inventoryId}/history`,\n        window.location.origin\n    );\n    let params = {\n        limit\n    };\n\n    let query = new URLSearchParams(params);\n    url.search = query.toString();\n\n    let response = fetch(url).then(handleErrors)\n    .then(res =>  res.json()).then(result => result);\n\n    return response;\n};\n\nexport const fetchExecutiveReport = async () => {\n    const url = new URL(CRC_PDF_GENERATE_API,  window.location.origin);\n\n    return fetch(url, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n\n        body: JSON.stringify({\n            service: 'ros',\n            template: 'executiveReport'\n        })\n    })\n    .then(handleErrors)\n    .then((response) => response.blob());\n\n};\n","import { fetchSystemDetail, fetchSystemRecommendations, isROSConfigured } from '../Utilities/api';\n\nexport const loadSystemInfo = inventoryId => ({\n    type: 'LOAD_ROS_SYSTEM_INFO',\n    payload: fetchSystemDetail(inventoryId)\n});\n\nexport const loadSysRecs = (inventoryId, params) => ({\n    type: 'FETCH_SYSTEM_RECOMMENDATIONS_LIST',\n    payload: fetchSystemRecommendations(inventoryId, params)\n});\n\nexport const loadIsConfiguredInfo = () => ({\n    type: 'LOAD_IS_CONFIGURED_INFO',\n    payload: isROSConfigured()\n});\n\nexport const changeSystemColumns = (payload) =>({\n    type: 'CHANGE_SYSTEM_COLUMNS',\n    payload\n});\n"],"names":["ServiceNotConfigured","Bullseye","EmptyState","className","EmptyStateIcon","icon","WrenchIcon","Title","headingLevel","size","EmptyStateBody","Stack","hasGutter","StackItem","Button","component","href","GETTING_STARTED_URL","target","variant","RecommendationsTable","React","defaultFilters","name","label","value","isEmptyFilters","activeFilters","Object","values","find","item","length","constructActiveFilters","entries","map","key","category","chipKey","chips","Array","isArray","onDeleteFilter","itemsToRemove","currItem","filter","SystemRecommendations","props","state","page","perPage","inventoryId","debouncedThrottleHandleChange","debounce","throttleHandleChange","bind","this","requestLoadSysRecs","options","params","description","descriptionFilter","loadSysRecs","filters","setState","pagination","totalRecs","recsData","emptyState","Suspense","fallback","Card","CardBody","itemCount","onSetPage","_e","updatePagination","onPerPageSelect","isCompact","widgetId","filterConfig","items","type","filterValues","onChange","event","applyFilters","placeholder","activeFiltersConfig","onDelete","isAll","filtersOnDeletion","loading","recommendations","Pagination","propTypes","PropTypes","connect","systemRecsReducer","recommendationsData","totalRecommendations","dispatch","uuid","handleErrors","response","ok","Error","statusText","isROSConfigured","url","URL","ROS_API_ROOT","IS_CONFIGURED_API","window","location","origin","fetch","then","res","json","result","fetchSystemDetail","SYSTEMS_API_ROOT","fetchSystemRecommendations","limit","offset","trim","search","URLSearchParams","toString","resp","status","hasError","fetchSystems","fetchParams","orderBy","orderHow","order_by","display_name","os","number_of_suggestions","report_date","order_how","SortByDirection","hostnameOrId","query","stateFilter","forEach","stateFilterValue","append","osFilter","osFilterValue","fetchSystemHistory","fetchExecutiveReport","CRC_PDF_GENERATE_API","method","headers","body","JSON","stringify","service","template","blob","loadSystemInfo","payload","loadIsConfiguredInfo","changeSystemColumns"],"sourceRoot":""}