{"version":3,"file":"js/288.cf78a930be36a346ae5f.js","mappings":"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","sources":["webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./src/Routes.js","webpack:///./src/App.js","webpack:///./src/AppEntry.js","webpack:///./src/bootstrap.js","webpack:///./src/store/index.js","webpack:///./node_modules/react-redux/es/hooks/useSelector.js"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","module.exports = require(\"regenerator-runtime\");\n","import { Redirect, Route, Switch } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport React, { Suspense, lazy } from 'react';\nimport { Bullseye, Spinner } from '@patternfly/react-core';\n\nconst RosPage = lazy(() => import(/* webpackChunkName: \"RosPage\" */ './Routes/RosPage/RosPage'));\nconst RosSystemDetail = lazy(() => import(/* webpackChunkName: \"RosSystemDetail\" */ './Routes/RosSystemDetail/RosSystemDetail'));\nconst RosSuggestedInstance = lazy(() => import(/* webpackChunkName: \"RosSuggestedInstance\" */ './Routes/RosSuggestedInstance/RosSuggestedInstance'));\n\nexport const Routes = () => (\n    <Suspense fallback={<Bullseye>\n        <Spinner />\n    </Bullseye>}>\n        <Switch>\n            <Route exact path='/' component={RosPage} />\n            <Route path='/suggested-instance-types' component={RosSuggestedInstance}/>\n            <Route path='/:inventoryId' component={RosSystemDetail} />\n            <Redirect path=\"*\" to='/' />\n        </Switch>\n    </Suspense>\n);\n\nRoutes.propTypes = {\n    childProps: PropTypes.shape({\n        history: PropTypes.shape({\n            push: PropTypes.func\n        })\n    })\n};\n","import PropTypes from 'prop-types';\nimport React, { createContext, Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Routes } from './Routes';\nimport './App.scss';\nimport NotificationsPortal from '@redhat-cloud-services/frontend-components-notifications/NotificationPortal';\nimport { notificationsReducer } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport { systemRecsReducer, systemDetailReducer, isConfiguredReducer, systemColumnsReducer } from './store/reducers';\nimport { register } from './store';\nimport { useChrome } from '@redhat-cloud-services/frontend-components/useChrome';\n\nexport const PermissionContext = createContext();\n\nclass App extends Component {\n    constructor() {\n        super();\n        this.state = {\n            hasReadPermissions: undefined,\n            arePermissionsLoaded: false\n        };\n    }\n\n    handlePermissionsUpdate(hasRead) {\n        this.setState({\n            hasReadPermissions: hasRead,\n            arePermissionsLoaded: true\n        });\n    }\n\n    hasPermission(permission, permissionList) {\n        let hasPermission = false;\n\n        permissionList.forEach((permissions) => {\n            if (permission === permissions) {\n                hasPermission = true;\n            }\n        });\n\n        return hasPermission;\n    };\n\n    componentDidMount () {\n        register({\n            notifications: notificationsReducer,\n            systemDetailReducer,\n            systemRecsReducer,\n            isConfiguredReducer,\n            systemColumnsReducer\n        });\n\n        const chrome = this.props.chrome;\n        chrome?.updateDocumentTitle('Resource Optimization | Red Hat Insights');\n        this.unregister = chrome.on('APP_NAVIGATION', (event) => {\n            if (event.navId === 'ros') {\n                this.props.history.push(`/${location.search}${location.hash}`);\n            } else {\n                this.props.history.push(`/${event.navId}${location.search}${location.hash}`);\n            }\n        });\n        (async () => {\n            const rosPermissions = await chrome.getUserPermissions('ros', true);\n            this.handlePermissionsUpdate(\n                rosPermissions.some(({ permission }) => this.hasPermission(permission, ['ros:*:*', 'ros:*:read']))\n            );\n        })();\n\n    }\n\n    componentWillUnmount () {\n        if (typeof this.unregister === 'function') {\n            this.unregister();\n        }\n    }\n\n    render () {\n        const {\n            hasReadPermissions,\n            arePermissionsLoaded } = this.state;\n        return (\n            arePermissionsLoaded\n                ? <PermissionContext.Provider\n                    value={{\n                        permissions: {\n                            hasRead: hasReadPermissions\n                        }\n                    }}>\n                    <NotificationsPortal />\n                    <Routes />\n                </PermissionContext.Provider>\n                : null\n        );\n    }\n}\n\nApp.propTypes = {\n    history: PropTypes.object,\n    chrome: PropTypes.object\n};\n\nconst AppWithChrome = props => {\n    const chrome = useChrome();\n\n    return (\n        <App {...props} chrome={ chrome } />\n    );\n};\n\n/**\n * withRouter: https://reacttraining.com/react-router/web/api/withRouter\n * connect: https://github.com/reactjs/react-redux/blob/master/docs/api.md\n *          https://reactjs.org/docs/higher-order-components.html\n */\nexport default withRouter (connect()(AppWithChrome));\n","import React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { init } from './store';\nimport App from './App';\nimport { getBaseName } from '@redhat-cloud-services/frontend-components-utilities/helpers';\nimport logger from 'redux-logger';\n\nconst RosApp = () => (\n    <Provider store={ process.env.NODE_ENV !== 'production' ? init(logger).getStore() : init().getStore() }>\n        <Router basename={ getBaseName(window.location.pathname, 2) }>\n            <App />\n        </Router>\n    </Provider>\n);\n\nexport default RosApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport RosApp from './AppEntry';\n\nReactDOM.render(\n    <RosApp />,\n    document.getElementById('root')\n);\n","import { getRegistry } from '@redhat-cloud-services/frontend-components-utilities/Registry';\nimport promiseMiddleware from 'redux-promise-middleware';\nlet registry;\n\nexport function init (...middleware) {\n    registry = getRegistry({}, [\n        promiseMiddleware,\n        ...middleware\n    ]);\n\n    return registry;\n}\n\nexport function getStore () {\n    return registry.getStore();\n}\n\nexport function register (...args) {\n    return registry.register(...args);\n}\n","import { useReducer, useRef, useMemo, useContext } from 'react';\nimport { useReduxContext as useDefaultReduxContext } from './useReduxContext';\nimport Subscription from '../utils/Subscription';\nimport { useIsomorphicLayoutEffect } from '../utils/useIsomorphicLayoutEffect';\nimport { ReactReduxContext } from '../components/Context';\n\nvar refEquality = function refEquality(a, b) {\n  return a === b;\n};\n\nfunction useSelectorWithStoreAndSubscription(selector, equalityFn, store, contextSub) {\n  var _useReducer = useReducer(function (s) {\n    return s + 1;\n  }, 0),\n      forceRender = _useReducer[1];\n\n  var subscription = useMemo(function () {\n    return new Subscription(store, contextSub);\n  }, [store, contextSub]);\n  var latestSubscriptionCallbackError = useRef();\n  var latestSelector = useRef();\n  var latestSelectedState = useRef();\n  var selectedState;\n\n  try {\n    if (selector !== latestSelector.current || latestSubscriptionCallbackError.current) {\n      selectedState = selector(store.getState());\n    } else {\n      selectedState = latestSelectedState.current;\n    }\n  } catch (err) {\n    if (latestSubscriptionCallbackError.current) {\n      err.message += \"\\nThe error may be correlated with this previous error:\\n\" + latestSubscriptionCallbackError.current.stack + \"\\n\\n\";\n    }\n\n    throw err;\n  }\n\n  useIsomorphicLayoutEffect(function () {\n    latestSelector.current = selector;\n    latestSelectedState.current = selectedState;\n    latestSubscriptionCallbackError.current = undefined;\n  });\n  useIsomorphicLayoutEffect(function () {\n    function checkForUpdates() {\n      try {\n        var newSelectedState = latestSelector.current(store.getState());\n\n        if (equalityFn(newSelectedState, latestSelectedState.current)) {\n          return;\n        }\n\n        latestSelectedState.current = newSelectedState;\n      } catch (err) {\n        // we ignore all errors here, since when the component\n        // is re-rendered, the selectors are called again, and\n        // will throw again, if neither props nor store state\n        // changed\n        latestSubscriptionCallbackError.current = err;\n      }\n\n      forceRender({});\n    }\n\n    subscription.onStateChange = checkForUpdates;\n    subscription.trySubscribe();\n    checkForUpdates();\n    return function () {\n      return subscription.tryUnsubscribe();\n    };\n  }, [store, subscription]);\n  return selectedState;\n}\n/**\r\n * Hook factory, which creates a `useSelector` hook bound to a given context.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useSelector` hook bound to the specified context.\r\n */\n\n\nexport function createSelectorHook(context) {\n  if (context === void 0) {\n    context = ReactReduxContext;\n  }\n\n  var useReduxContext = context === ReactReduxContext ? useDefaultReduxContext : function () {\n    return useContext(context);\n  };\n  return function useSelector(selector, equalityFn) {\n    if (equalityFn === void 0) {\n      equalityFn = refEquality;\n    }\n\n    if (process.env.NODE_ENV !== 'production' && !selector) {\n      throw new Error(\"You must pass a selector to useSelectors\");\n    }\n\n    var _useReduxContext = useReduxContext(),\n        store = _useReduxContext.store,\n        contextSub = _useReduxContext.subscription;\n\n    return useSelectorWithStoreAndSubscription(selector, equalityFn, store, contextSub);\n  };\n}\n/**\r\n * A hook to access the redux store's state. This hook takes a selector function\r\n * as an argument. The selector is called with the store state.\r\n *\r\n * This hook takes an optional equality comparison function as the second parameter\r\n * that allows you to customize the way the selected state is compared to determine\r\n * whether the component needs to be re-rendered.\r\n *\r\n * @param {Function} selector the selector function\r\n * @param {Function=} equalityFn the function that will be used to determine equality\r\n *\r\n * @returns {any} the selected state\r\n *\r\n * @example\r\n *\r\n * import React from 'react'\r\n * import { useSelector } from 'react-redux'\r\n *\r\n * export const CounterComponent = () => {\r\n *   const counter = useSelector(state => state.counter)\r\n *   return <div>{counter}</div>\r\n * }\r\n */\n\nexport var useSelector =\n/*#__PURE__*/\ncreateSelectorHook();"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","module","exports","fn","self","this","args","arguments","apply","err","undefined","RosPage","lazy","RosSystemDetail","RosSuggestedInstance","Routes","Suspense","fallback","Bullseye","Spinner","Switch","Route","exact","path","component","Redirect","to","propTypes","childProps","PropTypes","history","push","PermissionContext","createContext","App","state","hasReadPermissions","arePermissionsLoaded","hasRead","setState","permission","permissionList","hasPermission","forEach","permissions","register","notifications","notificationsReducer","systemDetailReducer","systemRecsReducer","isConfiguredReducer","systemColumnsReducer","chrome","props","updateDocumentTitle","unregister","on","event","navId","location","search","hash","getUserPermissions","rosPermissions","handlePermissionsUpdate","some","Provider","Component","withRouter","connect","useChrome","store","init","getStore","basename","getBaseName","window","pathname","ReactDOM","document","getElementById","registry","middleware","getRegistry","promiseMiddleware","refEquality","a","b","createSelectorHook","context","useReduxContext","useContext","selector","equalityFn","_useReduxContext","contextSub","selectedState","forceRender","useReducer","s","subscription","useMemo","latestSubscriptionCallbackError","useRef","latestSelector","latestSelectedState","current","getState","message","stack","checkForUpdates","newSelectedState","onStateChange","trySubscribe","tryUnsubscribe","useSelectorWithStoreAndSubscription","useSelector"],"sourceRoot":""}