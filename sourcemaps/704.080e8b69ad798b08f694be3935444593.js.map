{"version":3,"file":"js/704.0f0c303ae5ec37d878c6.js","mappings":"wNACO,IAAMA,EAAe,cACfC,EAAoB,iBACpBC,EAAmB,WACnBC,EAA4B,UAG5BC,GAAqB,EACrBC,EAAmB,EACnBC,EAAoB,EAGpBC,EAAgB,mBAChBC,EAAgB,MAIhBC,EAAsB,+MAGtBC,EAAiB,CAC1BC,MAAO,CACHC,MAAO,QACPC,KAAM,WACNC,aAAc,CACVC,MAAO,CACH,CACIH,MAAO,SACPI,MAAO,UAEX,CACIJ,MAAO,YACPI,MAAO,aAEX,CACIJ,MAAO,YACPI,MAAO,aAEX,CACIJ,MAAO,iBACPI,MAAO,kBAEX,CACIJ,MAAO,aACPI,MAAO,cAEX,CACIJ,MAAO,mBACPI,MAAO,yB,wpBC9CpB,SAASC,EAAaC,GACzB,IAAKA,EAASC,GACV,MAAMC,MAAMF,EAASG,YAGzB,OAAOH,EAGJ,IAeMI,EAAoB,SAAAC,GAC7B,IAAIC,EAAM,IAAIC,IACVzB,EAAAA,GAAeE,EAAAA,GAAf,WAAsCqB,GACtCG,OAAOC,SAASC,QASpB,OAPeF,OAAOG,SAASC,OAAOC,KACrCC,UACAC,MAAK,kBACFC,MAAMV,GAAKS,KAAKhB,GACfgB,MAAK,SAAAE,GAAG,OAAKA,EAAIC,UAAQH,MAAK,SAAAI,GAAM,OAAIA,SAMpCC,EAA6B,SAACf,GAA8B,IAAjBgB,EAAiB,uDAAP,GAC1DC,EAAS,CACTC,MAAOF,EAAQG,QACfC,QAASJ,EAAQK,KAAO,GAAKL,EAAQG,SAErCH,EAAQM,aAAeN,EAAQM,YAAYC,SAC3CN,EAAS,EAAH,KAAQA,GAAR,IAAgBK,YAAaN,EAAQM,eAG/C,IAAIrB,EAAM,IAAIC,IACVzB,EAAAA,GAAeE,EAAAA,GAAf,WAAsCqB,EAAtC,gBACAG,OAAOC,SAASC,QAEpBJ,EAAIuB,OAAS,IAAIC,gBAAgBR,GAAQS,WACzC,IAAI/B,EAAWQ,OAAOG,SAASC,OAAOC,KACrCC,UACAC,MAAK,kBACFC,MAAMV,GAAKS,MAAK,SAACiB,GACb,IAAKA,EAAK/B,IAAsB,MAAhB+B,EAAKC,OACjB,MAAO,CAAEC,UAAU,GAChB,IAAKF,EAAK/B,GACb,MAAMC,MAAM8B,EAAK7B,YAGrB,OAAO6B,EAAKd,UAEfH,MAAK,SAAAI,GAAM,OAAIA,QAGpB,OAAOnB,GCnEEmC,EAAiB,SAAA9B,GAAW,MAAK,CAC1CV,KAAM,uBACNyC,QAAShC,EAAkBC,KAGlBgC,EAAc,SAAChC,EAAaiB,GAAd,MAA0B,CACjD3B,KAAM,oCACNyC,QAAShB,EAA2Bf,EAAaiB,KAGxCgB,EAAuB,iBAAO,CACvC3C,KAAM,0BACNyC,SDHI9B,EAAM,IAAIC,IACVzB,EAAAA,GAAeC,EAAAA,GACfyB,OAAOC,SAASC,QAELF,OAAOG,SAASC,OAAOC,KACrCC,UACAC,MAAK,kBACFC,MAAMV,GAAKS,KAAKhB,GACfgB,MAAK,SAAAE,GAAG,OAAKA,EAAIC,UAAQH,MAAK,SAAAI,GAAM,OAAIA,UATlB,IACvBb","sources":["webpack:///./src/constants.js","webpack:///./src/Utilities/api.js","webpack:///./src/store/actions.js"],"sourcesContent":["// API\nexport const ROS_API_ROOT = '/api/ros/v1';\nexport const IS_CONFIGURED_API = '/is_configured';\nexport const SYSTEMS_API_ROOT = '/systems';\nexport const RECOMMENDATION_RATING_API = '/rating';\n\n// Feedback\nexport const NEGATIVE_FEEDBACK = -1;\nexport const NEUTRAL_FEEDBACK = 0;\nexport const POSITIVE_FEEDBACK = 1;\n\n// No Data State\nexport const NO_DATA_STATE = 'Waiting for data';\nexport const NO_DATA_VALUE = 'N/A';\n\n// Getting started URL\n// eslint-disable-next-line max-len\nexport const GETTING_STARTED_URL = 'https://access.redhat.com/documentation/en-us/red_hat_insights/2022/html/assessing_and_monitoring_rhel_resource_optimization_with_insights_for_red_hat_enterprise_linux/proc-ros-install_ros-getting-started';\n\n// Custom Filters\nexport const CUSTOM_FILTERS = {\n    state: {\n        label: 'State',\n        type: 'checkbox',\n        filterValues: {\n            items: [\n                {\n                    label: 'Idling',\n                    value: 'Idling'\n                },\n                {\n                    label: 'Optimized',\n                    value: 'Optimized'\n                },\n                {\n                    label: 'Oversized',\n                    value: 'Oversized'\n                },\n                {\n                    label: 'Under pressure',\n                    value: 'Under pressure'\n                },\n                {\n                    label: 'Undersized',\n                    value: 'Undersized'\n                },\n                {\n                    label: 'Waiting for data',\n                    value: 'Waiting for data'\n                }\n            ]\n        }\n    }\n};\n","import { ROS_API_ROOT, SYSTEMS_API_ROOT, IS_CONFIGURED_API } from '../constants';\n\nexport function handleErrors(response) {\n    if (!response.ok) {\n        throw Error(response.statusText);\n    }\n\n    return response;\n}\n\nexport const isROSConfigured = () => {\n    let url = new URL(\n        ROS_API_ROOT + IS_CONFIGURED_API,\n        window.location.origin\n    );\n    let response = window.insights.chrome.auth\n    .getUser()\n    .then(() =>\n        fetch(url).then(handleErrors)\n        .then(res =>  res.json()).then(result => result)\n    );\n\n    return response;\n};\n\nexport const fetchSystemDetail = inventoryId => {\n    let url = new URL(\n        ROS_API_ROOT + SYSTEMS_API_ROOT + `/${inventoryId}`,\n        window.location.origin\n    );\n    let response = window.insights.chrome.auth\n    .getUser()\n    .then(() =>\n        fetch(url).then(handleErrors)\n        .then(res =>  res.json()).then(result => result)\n    );\n\n    return response;\n};\n\nexport const fetchSystemRecommendations = (inventoryId, options = {}) => {\n    let params = {\n        limit: options.perPage,\n        offset: (options.page - 1) * options.perPage\n    };\n    if (options.description && options.description.trim()) {\n        params = { ...params, description: options.description };\n    }\n\n    let url = new URL(\n        ROS_API_ROOT + SYSTEMS_API_ROOT + `/${inventoryId}/suggestions`,\n        window.location.origin\n    );\n    url.search = new URLSearchParams(params).toString();\n    let response = window.insights.chrome.auth\n    .getUser()\n    .then(() =>\n        fetch(url).then((resp) => {\n            if (!resp.ok && resp.status === 404) {\n                return { hasError: true };\n            } else if (!resp.ok) {\n                throw Error(resp.statusText);\n            }\n\n            return resp.json();\n        })\n        .then(result => result)\n    );\n\n    return response;\n};\n\n","import { fetchSystemDetail, fetchSystemRecommendations, isROSConfigured } from '../Utilities/api';\n\nexport const loadSystemInfo = inventoryId => ({\n    type: 'LOAD_ROS_SYSTEM_INFO',\n    payload: fetchSystemDetail(inventoryId)\n});\n\nexport const loadSysRecs = (inventoryId, params) => ({\n    type: 'FETCH_SYSTEM_RECOMMENDATIONS_LIST',\n    payload: fetchSystemRecommendations(inventoryId, params)\n});\n\nexport const loadIsConfiguredInfo = () => ({\n    type: 'LOAD_IS_CONFIGURED_INFO',\n    payload: isROSConfigured()\n});\n"],"names":["ROS_API_ROOT","IS_CONFIGURED_API","SYSTEMS_API_ROOT","RECOMMENDATION_RATING_API","NEGATIVE_FEEDBACK","NEUTRAL_FEEDBACK","POSITIVE_FEEDBACK","NO_DATA_STATE","NO_DATA_VALUE","GETTING_STARTED_URL","CUSTOM_FILTERS","state","label","type","filterValues","items","value","handleErrors","response","ok","Error","statusText","fetchSystemDetail","inventoryId","url","URL","window","location","origin","insights","chrome","auth","getUser","then","fetch","res","json","result","fetchSystemRecommendations","options","params","limit","perPage","offset","page","description","trim","search","URLSearchParams","toString","resp","status","hasError","loadSystemInfo","payload","loadSysRecs","loadIsConfiguredInfo"],"sourceRoot":""}