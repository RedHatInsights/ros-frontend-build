{"version":3,"sources":["webpack:///./src/Components/RosTable/ProgressScoreBar.js","webpack:///./src/Components/RosTable/SystemState.js","webpack:///./src/store/entitiesReducer.js","webpack:///./src/Routes/RosPage/RosPage.js","webpack:///./src/Routes/RosPage/ros-page.scss","webpack:///./src/Routes/RosPage/ros-page.scss?cee4"],"names":["ProgressScoreBar","utilizedValue","measureLocation","eleId","Progress","value","className","id","propTypes","valueScore","SystemState","val","stateValue","Oversized","text","icon","color","size","Undersized","Idling","Optimized","Crashloop","Tooltip","content","systemName","displayName","inventoryId","inventory_id","isDeleted","tabIndex","Link","to","pathname","displayState","data","scoreProgress","recommendations","openExpandedView","state","action","rows","map","row","isOpen","payload","RosPage","props","perPage","orderBy","orderDirection","SortByDirection","columns","key","title","renderFunc","sortingHeader","display_name","number_of_suggestions","chunkSize","inventory","React","fetchSystems","bind","insights","chrome","hideGlobalFilter","appAction","this","isROSConfigured","fetchParams","window","auth","getUser","params","limit","offset","page","order_by","order_how","orderHow","filters","hostnameOrId","url","URL","ROS_API_ROOT","SYSTEMS_API_ROOT","location","origin","search","URLSearchParams","toString","fetch","then","res","ok","Error","statusText","json","ids","idsChunks","length","push","splice","invIds","configOptns","results","per_page","multipleGetEntitiesRequests","records","getEntities","response","idsInBatches","chunkIdsArray","Promise","all","resp","respJSON","showConfigSteps","ServiceNotConfigured","Card","CardBody","InventoryTable","disableDefaultColumns","ref","hasCheckbox","tableProps","canSelectAll","variant","hideFilters","stale","registeredWith","_items","config","setState","fetchInventoryDetails","hasItems","invSystems","system","invRec","find","total","meta","count","onLoad","LOAD_ENTITIES_FULFILLED","mergeWithEntities","INVENTORY_ACTION_TYPES","api","register","applyReducerHash","children","rowData","cloudProvider","cloud_provider","instanceType","instance_type","idlingTime","idling_time","ioWait","io_wait","ExpandedRow","loaded","modifyInventory","setSort","expandable","onExpandClick","_e","_i","expandRow","PageHeader","PageHeaderTitle","Main","permissions","systemsRead","NotAuthorized","serviceName","renderConfigStepsOrTable","PropTypes","withRouter","connect","isConfiguredReducer","dispatch","actionType","type","orderByKey","orderByDirection","direction","loadIsConfiguredInfo","exports","___CSS_LOADER_API_IMPORT___","module","update","hot","invalidate","oldLocals","accept","a","b","isNamedExport","p","isEqualLocals","dispose"],"mappings":"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","file":"js/RosPage.5550496b03b1c82d9b4d.js","sourcesContent":["import React from 'react';\nimport { Progress } from '@patternfly/react-core';\nimport propTypes from 'prop-types';\n\nexport const ProgressScoreBar = ({ utilizedValue, measureLocation, eleId }) =>  {\n    return (\n        <React.Fragment>\n            <Progress value={ utilizedValue }\n                className={ `progress-score-bar blue-300` }\n                measureLocation={ measureLocation }\n                {  ...(eleId ? { id: eleId } : null) } />\n        </React.Fragment>\n    );\n};\n\nProgressScoreBar.propTypes = {\n    measureLocation: propTypes.string,\n    valueScore: propTypes.number,\n    utilizedValue: propTypes.number,\n    eleId: propTypes.string\n};\n","import React from 'react';\nimport { Tooltip } from '@patternfly/react-core';\nimport {\n    ExclamationCircleIcon, ExclamationTriangleIcon, CheckCircleIcon,\n    AngleDoubleUpIcon, AngleDoubleDownIcon,\n    AutomationIcon, InProgressIcon\n} from '@patternfly/react-icons';\n\nimport propTypes from 'prop-types';\n\nconst stateDetails = (val) =>  ({\n    Oversized: {\n        text: 'This system is not fully consuming available resources and may be oversized.',\n        icon: <AngleDoubleUpIcon color='#f09800' size='sm'/>\n    },\n    Undersized: {\n        text: 'This system is depleting available resources and may be undersized.',\n        icon: <AngleDoubleDownIcon color='red' size='sm'/>\n    },\n    Idling: {\n        text: 'This system displays higher idling cycles than is expected.',\n        icon: <AutomationIcon size='sm'/>\n    },\n    'Storage rightsizing': {\n        text: 'This system is experiencing a storage Input/Output bottleneck.',\n        icon: <ExclamationTriangleIcon color='#f09800' size='sm'/>\n    },\n    Optimized: {\n        text: 'This system is running efficiently.',\n        icon: <CheckCircleIcon color='green' size='sm'/>\n    },\n    Crashloop: {\n        text: 'This system is experiencing a crash loop.',\n        icon: <ExclamationCircleIcon color='red' size='sm'/>\n    },\n    'Waiting for data': {\n        text: 'This system is configured, please allow 24 hours for your upload to complete.',\n        icon: <InProgressIcon color='blue' size='sm'/>\n    }\n}[val] || {});\n\nexport const SystemState = ({ stateValue }) =>  {\n    const { text, icon } = stateDetails(stateValue);\n    return (\n        <span>\n            <span>\n                { text ?\n                    <Tooltip content={<div>{ text }</div>}>\n                        <span>{ icon } { stateValue }</span>\n                    </Tooltip>\n                    : stateValue }\n            </span>\n        </span>\n    );\n};\n\nSystemState.propTypes = {\n    stateValue: propTypes.string\n};\n","import { applyReducerHash } from '@redhat-cloud-services/frontend-components-utilities/ReducerRegistry';\nimport { Link } from 'react-router-dom';\nimport React from 'react';\nimport { Tooltip } from '@patternfly/react-core';\nimport { ExpandedRow } from '../Components/RosTable/ExpandedRow';\nimport { ProgressScoreBar } from '../Components/RosTable/ProgressScoreBar';\nimport { SystemState } from '../Components/RosTable/SystemState';\n\nexport const systemName = (displayName, id, { inventory_id: inventoryId, isDeleted }) => {\n    return (\n        isDeleted ? (\n            <Tooltip content={<div>{displayName} has been deleted from inventory</div>}>\n                <span tabIndex=\"0\">{ displayName }</span>\n            </Tooltip>\n        ) : (\n            <Link to={{ pathname: `/${inventoryId}` }} className={ `pf-link system-link link-${inventoryId}` }>\n                { displayName }\n            </Link>\n        )\n    );\n};\n\nexport const displayState = (data) => {\n    return (<SystemState stateValue={ data }/>);\n};\n\nexport const scoreProgress = () => (data) => {\n    return (\n        <ProgressScoreBar measureLocation='outside'\n            utilizedValue={data} />\n    );\n};\n\nexport const recommendations = (data, id, { inventory_id: inventoryId, isDeleted }) => {\n    return (\n        isDeleted ? <span className='recommendations'>{ data }</span> : (\n            <Link to={{ pathname: `/${inventoryId}` }}\n                className={ `pf-link recommendations ${data === 0 ? 'green-400' : ''} link-${inventoryId}` }>\n                { data }\n            </Link>\n        )\n    );\n};\n\nconst addExpandedView = (rowData) => {\n    const {\n        id, cloud_provider: cloudProvider, instance_type: instanceType,\n        idling_time: idlingTime, io_wait: ioWait\n    } = rowData;\n    return (<ExpandedRow { ...{ id, cloudProvider, instanceType, idlingTime, ioWait } } />);\n};\n\nfunction modifyInventory(columns, state) {\n\n    return {\n        ...state,\n        columns,\n        rows: state.rows.map((row) => ({\n            ...row,\n            children: addExpandedView(row)\n        })),\n        loaded: true\n    };\n}\n\nconst openExpandedView = (state, action) => {\n    return {\n        ...state,\n        rows: state.rows.map(row => ({\n            ...row,\n            isOpen: row.id === action.payload.id ? action.payload.isOpen : row.isOpen\n        }))\n    };\n};\n\nexport const entitiesReducer = ({ LOAD_ENTITIES_FULFILLED }, columns) => applyReducerHash({\n    [LOAD_ENTITIES_FULFILLED]: (state) =>  modifyInventory(columns, state),\n    ['EXPAND_ROW']: openExpandedView\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport { PageHeader, PageHeaderTitle } from '@redhat-cloud-services/frontend-components/PageHeader';\nimport { Main } from '@redhat-cloud-services/frontend-components/Main';\nimport { Card, CardBody } from '@patternfly/react-core';\nimport { SortByDirection } from '@patternfly/react-table';\nimport { connect } from 'react-redux';\nimport { InventoryTable } from '@redhat-cloud-services/frontend-components/Inventory';\nimport { register } from '../../store';\nimport './ros-page.scss';\nimport { entitiesReducer, systemName, scoreProgress, recommendations, displayState } from '../../store/entitiesReducer';\nimport { loadIsConfiguredInfo } from '../../store/actions';\nimport { ROS_API_ROOT, SYSTEMS_API_ROOT } from '../../constants';\nimport { ServiceNotConfigured } from '../../Components/ServiceNotConfigured/ServiceNotConfigured';\nimport { PermissionContext } from '../../App';\n\nimport { NotAuthorized } from '@redhat-cloud-services/frontend-components/NotAuthorized';\n\n/**\n * A smart component that handles all the api calls and data needed by the dumb components.\n * Smart components are usually classes.\n *\n * https://reactjs.org/docs/components-and-props.html\n * https://medium.com/@thejasonfile/dumb-components-and-smart-components-e7b33a698d43\n */\n\nclass RosPage extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            perPage: 10,\n            orderBy: 'display_name',\n            orderDirection: SortByDirection.asc,\n            columns: [\n                { key: 'display_name', title: 'Name', renderFunc: systemName },\n                { key: 'performance_utilization.cpu', title: 'CPU utilization', renderFunc: scoreProgress() },\n                { key: 'performance_utilization.memory', title: 'Memory utilization', renderFunc: scoreProgress() },\n                { key: 'performance_utilization.io', title: 'I/O utilization', renderFunc: scoreProgress() },\n                { key: 'number_of_suggestions', title: 'Suggestions',\n                    renderFunc: recommendations },\n                { key: 'state', title: 'State', renderFunc: displayState }\n            ]\n        };\n\n        this.sortingHeader = {\n            display_name: 'display_name', /* eslint-disable-line camelcase */\n            'performance_utilization.cpu': 'cpu',\n            'performance_utilization.memory': 'memory',\n            'performance_utilization.io': 'io',\n            number_of_suggestions: 'number_of_suggestions', /* eslint-disable-line camelcase */\n            state: 'state' };\n\n        this.chunkSize = 50;\n        this.inventory = React.createRef();\n        this.fetchSystems = this.fetchSystems.bind(this);\n    }\n\n    async componentDidMount() {\n        insights.chrome?.hideGlobalFilter?.(true);\n        insights.chrome.appAction('ros-systems');\n        await this.props.isROSConfigured();\n    }\n\n    async fetchSystems(fetchParams) {\n        await window.insights.chrome.auth.getUser();\n        let params = {\n            limit: fetchParams.perPage,\n            offset: (fetchParams.page - 1) * fetchParams.perPage,\n            order_by: fetchParams.orderBy || this.state.orderBy, /* eslint-disable-line camelcase */\n            order_how: fetchParams.orderHow || this.state.orderDirection, /* eslint-disable-line camelcase */\n            ...fetchParams?.filters?.hostnameOrId && {\n                display_name: fetchParams.filters.hostnameOrId /* eslint-disable-line camelcase */\n            }\n        };\n\n        let url = new URL(ROS_API_ROOT + SYSTEMS_API_ROOT,  window.location.origin);\n        url.search = new URLSearchParams(params).toString();\n        return fetch(url).then((res) => {\n            if (!res.ok) {\n                throw Error(res.statusText);\n            }\n\n            return res;\n        }).then(res =>  res.json());\n    }\n\n    chunkIdsArray(ids) {\n        let idsChunks = [];\n        while (ids.length) {\n            idsChunks.push(ids.splice(0, this.chunkSize));\n        }\n\n        return idsChunks;\n    }\n\n    async fetchInventoryDetails(invIds, configOptns) {\n        let results = [];\n        if (configOptns.per_page > 50 && invIds.length > 50) {\n            let recordsSubset = await this.multipleGetEntitiesRequests(invIds, configOptns);\n            recordsSubset.map((records) => {\n                results.push(...records);\n            });\n        } else {\n            const response = await this.state.getEntities?.(invIds, configOptns, false);\n            results = response.results;\n        }\n\n        return results;\n    }\n\n    async multipleGetEntitiesRequests(invIds, configOptns) {\n        const idsInBatches = this.chunkIdsArray(invIds);\n        return Promise.all(\n            idsInBatches.map(async (ids) => {\n                let resp = await this.state.getEntities?.(ids, configOptns, false);\n                let respJSON = resp.results;\n                return respJSON;\n            })\n        ).then((results) => results);\n    }\n\n    renderConfigStepsOrTable() {\n        return (\n            this.props.showConfigSteps\n                ?   <ServiceNotConfigured/>\n                :   <Card className='pf-t-light  pf-m-opaque-100'>\n                    <CardBody>\n                        <InventoryTable\n                            disableDefaultColumns\n                            ref={this.inventory}\n                            hasCheckbox={ false }\n                            tableProps={{\n                                canSelectAll: false,\n                                className: 'ros-systems-table'\n                            }}\n                            variant=\"compact\"\n                            hideFilters={{ stale: true, registeredWith: true }}\n                            getEntities={async (_items, config) => {\n                                this.setState(() => ({\n                                    orderBy: config.orderBy,\n                                    orderDirection: config.orderDirection\n                                }));\n                                const results = await this.fetchSystems(\n                                    { page: config.page, perPage: config.per_page,\n                                        orderBy: this.sortingHeader[config.orderBy],\n                                        orderHow: config.orderDirection,\n                                        filters: config.filters\n                                    }\n                                );\n                                const invIds = (results.data || []).map(({ inventory_id: inventoryId }) => inventoryId);\n                                const invSystems = await this.fetchInventoryDetails(invIds, {\n                                    ...config,\n                                    page: 1,\n                                    hasItems: true\n                                });\n                                return {\n                                    results: results.data.map((system) => {\n                                        const invRec = invSystems.find(({ id }) => id === system.inventory_id);\n                                        return ({\n                                            ...invRec,\n                                            ...(invRec ? { isDeleted: false } : { id: system.inventory_id, isDeleted: true }),\n                                            ...system\n                                        });\n                                    }),\n                                    total: results.meta.count,\n                                    page: config.page,\n                                    per_page: config.per_page /* eslint-disable-line camelcase */\n                                };\n                            }}\n                            onLoad={({ mergeWithEntities, INVENTORY_ACTION_TYPES, api }) => {\n                                this.setState({\n                                    getEntities: api?.getEntities\n                                });\n                                register({\n                                    ...mergeWithEntities(\n                                        entitiesReducer(\n                                            INVENTORY_ACTION_TYPES, this.state.columns\n                                        )\n                                    )\n                                });\n                                this.props.setSort(this.state.orderBy, this.state.orderDirection, 'CHANGE_SORT');\n                            }}\n                            expandable='true'\n                            onExpandClick={(_e, _i, isOpen, { id }) => this.props.expandRow(id, isOpen, 'EXPAND_ROW')}\n                        >\n                        </InventoryTable>\n                    </CardBody>\n                </Card>\n        );\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                <PageHeader>\n                    <PageHeaderTitle title='Resource Optimization'/>\n                </PageHeader>\n                <Main>\n                    <PermissionContext.Consumer>\n                        { value =>\n                            value.permissions.systemsRead === false\n                                ? <NotAuthorized serviceName='Resource Optimization' />\n                                :  this.renderConfigStepsOrTable()\n                        }\n                    </PermissionContext.Consumer>\n                </Main>\n            </React.Fragment>\n        );\n    };\n};\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        expandRow: (id, isOpen, actionType) => dispatch({\n            type: actionType,\n            payload: { id, isOpen }\n        }),\n        setSort: (orderByKey, orderByDirection, actionType) => dispatch({\n            type: actionType,\n            payload: {\n                key: orderByKey,\n                direction: orderByDirection\n            }\n        }),\n        isROSConfigured: () => dispatch(loadIsConfiguredInfo())\n    };\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        showConfigSteps: state.isConfiguredReducer?.showConfigSteps,\n        ...props\n    };\n};\n\nRosPage.propTypes = {\n    expandRow: PropTypes.func,\n    setSort: PropTypes.func,\n    isROSConfigured: PropTypes.func,\n    showConfigSteps: PropTypes.bool\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(RosPage));\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ros .ins-c-primary-toolbar .ins-c-primary-toolbar__pagination,.inventory .ins-c-primary-toolbar .ins-c-primary-toolbar__pagination{margin-left:auto}.ros .ros-systems-table .pf-c-content.expanded-row,.inventory .ros-systems-table .pf-c-content.expanded-row{--pf-c-content--dl--RowGap: var(--pf-global--spacer--xs);--pf-c-content--FontSize: var(--pf-global--FontSize--sm)}.ros .ros-systems-table .pf-link:hover,.inventory .ros-systems-table .pf-link:hover{text-decoration:none}.ros .ros-systems-table .recommendations.green-400,.inventory .ros-systems-table .recommendations.green-400{color:var(--pf-global--palette--green-400)}.ros .ros-systems-table .recommendations,.inventory .ros-systems-table .recommendations{padding-left:var(--pf-global--spacer--lg);font-weight:var(--pf-global--FontWeight--bold)}.ros .ros-systems-table .pf-c-progress,.inventory .ros-systems-table .pf-c-progress{grid-template-columns:auto}.ros .ros-systems-table .pf-c-progress .pf-c-progress__status,.inventory .ros-systems-table .pf-c-progress .pf-c-progress__status{text-align:left}.ros .progress-score-bar,.inventory .progress-score-bar{grid-gap:var(--pf-global--spacer--xs)}.ros .progress-score-bar span.pf-c-progress__status-icon,.inventory .progress-score-bar span.pf-c-progress__status-icon{display:none}.ros .progress-score-bar .pf-c-progress__bar:before,.inventory .progress-score-bar .pf-c-progress__bar:before{background:var(--pf-global--palette--black-400)}.ros .progress-score-bar .pf-c-progress__measure,.inventory .progress-score-bar .pf-c-progress__measure{color:var(--pf-global--palette--black-600)}.ros .green-400 .pf-c-progress__indicator,.inventory .green-400 .pf-c-progress__indicator{background:var(--pf-global--palette--green-300)}.ros .blue-300 .pf-c-progress__indicator,.inventory .blue-300 .pf-c-progress__indicator{background:var(--pf-global--palette--blue-300)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./ros-page.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./ros-page.scss\",\n      function () {\n        if (!isEqualLocals(oldLocals, content.locals, undefined)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nexport default content.locals || {};"],"sourceRoot":""}