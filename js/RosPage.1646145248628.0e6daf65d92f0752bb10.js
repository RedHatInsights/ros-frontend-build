(self.webpackChunkros_frontend=self.webpackChunkros_frontend||[]).push([[821],{2095:(e,t,r)=>{"use strict";t.Zb=t.H0=void 0;const n=r(21988),a=n.__importStar(r(1427)),i=n.__importDefault(r(62802)),s=r(38296),l=r(23053);t.H0=a.createContext({cardId:"",isExpanded:!1}),t.Zb=e=>{var{children:r=null,id:o="",className:c="",component:u="article",isHoverable:d=!1,isCompact:p=!1,isSelectable:m=!1,isSelectableRaised:f=!1,isSelected:g=!1,isDisabledRaised:h=!1,isFlat:v=!1,isExpanded:y=!1,isRounded:_=!1,isLarge:b=!1,isFullHeight:E=!1,isPlain:O=!1,ouiaId:w,ouiaSafe:S=!0}=e,P=n.__rest(e,["children","id","className","component","isHoverable","isCompact","isSelectable","isSelectableRaised","isSelected","isDisabledRaised","isFlat","isExpanded","isRounded","isLarge","isFullHeight","isPlain","ouiaId","ouiaSafe"]);const x=u,N=l.useOUIAProps(t.Zb.displayName,w,S);return p&&b&&(console.warn("Card: Cannot use isCompact with isLarge. Defaulting to isCompact"),b=!1),a.createElement(t.H0.Provider,{value:{cardId:o,isExpanded:y}},a.createElement(x,Object.assign({id:o,className:s.css(i.default.card,p&&i.default.modifiers.compact,y&&i.default.modifiers.expanded,v&&i.default.modifiers.flat,_&&i.default.modifiers.rounded,b&&i.default.modifiers.displayLg,E&&i.default.modifiers.fullHeight,O&&i.default.modifiers.plain,h?s.css(i.default.modifiers.nonSelectableRaised):f?s.css(i.default.modifiers.selectableRaised,g&&i.default.modifiers.selectedRaised):m||d?s.css(i.default.modifiers.selectable,g&&i.default.modifiers.selected):"",c),tabIndex:m||f?"0":void 0},P,N),r))},t.Zb.displayName="Card"},85962:(e,t,r)=>{"use strict";t.e=void 0;const n=r(21988),a=n.__importStar(r(1427)),i=n.__importDefault(r(62802)),s=r(38296);t.e=e=>{var{children:t=null,className:r="",component:l="div",isFilled:o=!0}=e,c=n.__rest(e,["children","className","component","isFilled"]);const u=l;return a.createElement(u,Object.assign({className:s.css(i.default.cardBody,!o&&i.default.modifiers.noFill,r)},c),t)},t.e.displayName="CardBody"},219:(e,t,r)=>{"use strict";t.ub=t.IQ=void 0;const n=r(21988),a=n.__importStar(r(1427)),i=r(38296),s=n.__importDefault(r(3487));var l;!function(e){e.xs="xs",e.small="small",e.large="large",e.xl="xl",e.full="full"}(l=t.IQ||(t.IQ={})),t.ub=e=>{var{children:t,className:r="",variant:o=l.full,isFullHeight:c}=e,u=n.__rest(e,["children","className","variant","isFullHeight"]);return a.createElement("div",Object.assign({className:i.css(s.default.emptyState,"xs"===o&&s.default.modifiers.xs,"small"===o&&s.default.modifiers.sm,"large"===o&&s.default.modifiers.lg,"xl"===o&&s.default.modifiers.xl,c&&s.default.modifiers.fullHeight,r)},u),a.createElement("div",{className:i.css(s.default.emptyStateContent)},t))},t.ub.displayName="EmptyState"},74183:(e,t,r)=>{"use strict";t.B=void 0;const n=r(21988),a=n.__importStar(r(1427)),i=r(38296),s=n.__importDefault(r(3487));t.B=e=>{var{children:t,className:r=""}=e,l=n.__rest(e,["children","className"]);return a.createElement("div",Object.assign({className:i.css(s.default.emptyStateBody,r)},l),t)},t.B.displayName="EmptyStateBody"},86728:(e,t,r)=>{"use strict";t.k=void 0;const n=r(21988),a=n.__importStar(r(1427)),i=r(38296),s=n.__importDefault(r(3487));t.k=e=>{var{className:t="",icon:r,component:l,variant:o="icon"}=e,c=n.__rest(e,["className","icon","component","variant"]);const u=i.css(s.default.emptyStateIcon,t);return"icon"===o?a.createElement(r,Object.assign({className:u},c,{"aria-hidden":"true"})):a.createElement("div",{className:u},a.createElement(l,null))},t.k.displayName="EmptyStateIcon"},47945:(e,t,r)=>{"use strict";t.Ex=t.L2=void 0;const n=r(21988),a=n.__importStar(r(1427)),i=n.__importDefault(r(64440)),s=r(38296),l=r(37819),o=r(42319);var c;!function(e){e.sm="sm",e.md="md",e.lg="lg"}(c=t.L2||(t.L2={}));class u extends a.Component{constructor(){super(...arguments),this.id=this.props.id||o.getUniqueId()}render(){const e=this.props,{id:t,size:r,className:o,value:u,title:d,label:p,variant:m,measureLocation:f,min:g,max:h,valueText:v,isTitleTruncated:y,tooltipPosition:_,"aria-label":b,"aria-labelledby":E}=e,O=n.__rest(e,["id","size","className","value","title","label","variant","measureLocation","min","max","valueText","isTitleTruncated","tooltipPosition","aria-label","aria-labelledby"]),w={"aria-valuemin":g,"aria-valuenow":u,"aria-valuemax":h};(d||E)&&(w["aria-labelledby"]=d?`${this.id}-description`:E),b&&(w["aria-label"]=b),v&&(w["aria-valuetext"]=v),d||E||b||console.warn("One of aria-label or aria-labelledby properties should be passed when using the progress component without a title.");const S=Math.min(100,Math.max(0,Math.floor((u-g)/(h-g)*100)));return a.createElement("div",Object.assign({},O,{className:s.css(i.default.progress,i.default.modifiers[m],["inside","outside"].includes(f)&&i.default.modifiers[f],"inside"===f?i.default.modifiers[c.lg]:i.default.modifiers[r],!d&&i.default.modifiers.singleline,o),id:this.id}),a.createElement(l.ProgressContainer,{parentId:this.id,value:S,title:d,label:p,variant:m,measureLocation:f,progressBarAriaProps:w,isTitleTruncated:y,tooltipPosition:_}))}}t.Ex=u,u.displayName="Progress",u.defaultProps={className:"",measureLocation:l.ProgressMeasureLocation.top,variant:null,id:"",title:"",min:0,max:100,size:null,label:null,value:0,valueText:null,isTitleTruncated:!1,tooltipPosition:"top","aria-label":null,"aria-labelledby":null}},73051:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressBar=void 0;const n=r(21988),a=n.__importStar(r(1427)),i=n.__importDefault(r(64440)),s=r(38296);t.ProgressBar=e=>{var{progressBarAriaProps:t,className:r="",children:l=null,value:o}=e,c=n.__rest(e,["progressBarAriaProps","className","children","value"]);return a.createElement("div",Object.assign({},c,{className:s.css(i.default.progressBar,r)},t),a.createElement("div",{className:s.css(i.default.progressIndicator),style:{width:`${o}%`}},a.createElement("span",{className:s.css(i.default.progressMeasure)},l)))},t.ProgressBar.displayName="ProgressBar"},37819:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressContainer=t.ProgressVariant=t.ProgressMeasureLocation=void 0;const n=r(21988),a=n.__importStar(r(1427)),i=n.__importDefault(r(64440)),s=r(38296),l=r(8045),o=n.__importDefault(r(35451)),c=n.__importDefault(r(77669)),u=n.__importDefault(r(19694)),d=r(73051);var p,m;!function(e){e.outside="outside",e.inside="inside",e.top="top",e.none="none"}(p=t.ProgressMeasureLocation||(t.ProgressMeasureLocation={})),(m=t.ProgressVariant||(t.ProgressVariant={})).danger="danger",m.success="success",m.warning="warning";const f={danger:c.default,success:o.default,warning:u.default};t.ProgressContainer=({progressBarAriaProps:e,value:t,title:r="",parentId:n,label:o=null,variant:c=null,measureLocation:u=p.top,isTitleTruncated:m=!1,tooltipPosition:g})=>{const h=f.hasOwnProperty(c)&&f[c],[v,y]=a.useState(""),_=a.createElement("div",{className:s.css(i.default.progressDescription,m&&"string"==typeof r&&i.default.modifiers.truncate),id:`${n}-description`,"aria-hidden":"true",onMouseEnter:m&&"string"==typeof r?e=>{e.target.offsetWidth<e.target.scrollWidth?y(r||e.target.innerHTML):y("")}:null},r);return a.createElement(a.Fragment,null,v?a.createElement(l.Tooltip,{position:g,content:v,isVisible:!0},_):_,a.createElement("div",{className:s.css(i.default.progressStatus),"aria-hidden":"true"},(u===p.top||u===p.outside)&&a.createElement("span",{className:s.css(i.default.progressMeasure)},o||`${t}%`),f.hasOwnProperty(c)&&a.createElement("span",{className:s.css(i.default.progressStatusIcon)},a.createElement(h,null))),a.createElement(d.ProgressBar,{role:"progressbar",progressBarAriaProps:e,value:t},u===p.inside&&`${t}%`))},t.ProgressContainer.displayName="ProgressContainer"},34348:(e,t,r)=>{"use strict";t.Dx=t.H2=void 0;const n=r(21988),a=n.__importStar(r(1427)),i=r(38296),s=n.__importDefault(r(73755)),l=r(23053);var o,c;(c=t.H2||(t.H2={})).md="md",c.lg="lg",c.xl="xl",c["2xl"]="2xl",c["3xl"]="3xl",c["4xl"]="4xl",function(e){e.h1="2xl",e.h2="xl",e.h3="lg",e.h4="md",e.h5="md",e.h6="md"}(o||(o={})),t.Dx=e=>{var{className:r="",children:c="",headingLevel:u,size:d=o[u],ouiaId:p,ouiaSafe:m=!0}=e,f=n.__rest(e,["className","children","headingLevel","size","ouiaId","ouiaSafe"]);const g=l.useOUIAProps(t.Dx.displayName,p,m);return a.createElement(u,Object.assign({},g,f,{className:i.css(s.default.title,d&&s.default.modifiers[d],r)}),c)},t.Dx.displayName="Title"},8045:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(21988).__exportStar(r(76004),t)},81159:(e,t,r)=>{"use strict";t.K=void 0;const n=r(21988),a=n.__importStar(r(1427)),i=n.__importDefault(r(15957)),s=r(38296);t.K=e=>{var{hasGutter:t=!1,className:r="",children:l=null,component:o="div"}=e,c=n.__rest(e,["hasGutter","className","children","component"]);const u=o;return a.createElement(u,Object.assign({},c,{className:s.css(i.default.stack,t&&i.default.modifiers.gutter,r)}),l)},t.K.displayName="Stack"},34023:(e,t,r)=>{"use strict";t.v=void 0;const n=r(21988),a=n.__importStar(r(1427)),i=n.__importDefault(r(15957)),s=r(38296);t.v=e=>{var{isFilled:t=!1,className:r="",children:l=null}=e,o=n.__rest(e,["isFilled","className","children"]);return a.createElement("div",Object.assign({},o,{className:s.css(i.default.stackItem,t&&i.default.modifiers.fill,r)}),l)},t.v.displayName="StackItem"},77669:(e,t,r)=>{"use strict";t.__esModule=!0,t.TimesCircleIconConfig={name:"TimesCircleIcon",height:512,width:512,svgPath:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z",yOffset:0,xOffset:0},t.TimesCircleIcon=r(35183).createIcon(t.TimesCircleIconConfig),t.default=t.TimesCircleIcon},2112:(e,t,r)=>{"use strict";t.MS={name:"WrenchIcon",height:512,width:512,svgPath:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z",yOffset:0,xOffset:0},t.R0=r(35183).createIcon(t.MS),t.ZP=t.R0},64440:(e,t,r)=>{"use strict";t.__esModule=!0,r(37739),t.default={modifiers:{sm:"pf-m-sm",lg:"pf-m-lg",inside:"pf-m-inside",outside:"pf-m-outside",staticWidth:"pf-m-static-width",singleline:"pf-m-singleline",success:"pf-m-success",warning:"pf-m-warning",danger:"pf-m-danger",truncate:"pf-m-truncate"},progress:"pf-c-progress",progressBar:"pf-c-progress__bar",progressDescription:"pf-c-progress__description",progressIndicator:"pf-c-progress__indicator",progressMeasure:"pf-c-progress__measure",progressStatus:"pf-c-progress__status",progressStatusIcon:"pf-c-progress__status-icon"}},15957:(e,t,r)=>{"use strict";t.__esModule=!0,r(53519),t.default={modifiers:{fill:"pf-m-fill",gutter:"pf-m-gutter"},stack:"pf-l-stack",stackItem:"pf-l-stack__item"}},24814:(e,t,r)=>{"use strict";r.d(t,{v:()=>p});var n=r(1427),a=r.n(n),i=r(45697),s=r.n(i),l=r(49099),o=r(90446),c=r(698),u=r(91845),d=r(58061),p=function(e){var t=e.inventoryId,r=e.cloudProvider,n=e.instanceType,i=e.idlingTime,s=[{label:"Provider",value:null===r?d.t0:r},{label:"Instance type",value:null===n?d.t0:n},{label:"Idling time",value:null===i?d.t0:"".concat(i,"%")}];return a().createElement(l.o,{className:"expanded-row",isCompact:!0,isHorizontal:!0},a().createElement(c.g,{id:t},s.map((function(e,t){return a().createElement(a().Fragment,{key:t},a().createElement(o.M,null,e.label),a().createElement(u.b,null,e.value))}))))};p.propTypes={inventoryId:s().string,cloudProvider:s().string,instanceType:s().string,idlingTime:s().string}},36269:(e,t,r)=>{"use strict";r.d(t,{l:()=>h});var n=r(1427),a=r.n(n),i=r(76004),s=r(84564),l=r(19694),o=r(35451),c=r(2293),u=r(5381),d=r(82727),p=r(18802),m=r(58773),f=r(45697),g=r.n(f),h=function(e){var t,r=e.stateValue,n=(t=r,{Oversized:{text:"This system is not fully consuming available resources and may be oversized.",icon:a().createElement(c.ZP,{color:"#f09800",size:"sm"})},Undersized:{text:"This system is depleting available resources and may be undersized.",icon:a().createElement(u.ZP,{color:"red",size:"sm"})},Idling:{text:"This system displays higher idling cycles than is expected.",icon:a().createElement(d.ZP,{size:"sm"})},"Storage rightsizing":{text:"This system is experiencing a storage Input/Output bottleneck.",icon:a().createElement(l.default,{color:"#f09800",size:"sm"})},Optimized:{text:"This system is running efficiently.",icon:a().createElement(o.default,{color:"green",size:"sm"})},Crashloop:{text:"This system is experiencing a crash loop.",icon:a().createElement(s.ZP,{color:"red",size:"sm"})},"Waiting for data":{text:"This system is configured, please allow 24 hours for your upload to complete.",icon:a().createElement(p.ZP,{color:"#2B9AF3",size:"sm"})},"Under pressure":{text:"System resources adequate but experiencing occasional peaks.",icon:a().createElement(m.ZP,{color:"#030303",size:"sm"})}}[t]||{}),f=n.text,g=n.icon;return a().createElement("span",null,a().createElement("span",null,f?a().createElement(i.Tooltip,{content:a().createElement("div",null,f)},a().createElement("span",null,g," ",r)):r))};h.propTypes={stateValue:g().string}},3955:(e,t,r)=>{"use strict";r.d(t,{v:()=>g});var n=r(8896),a=r(219),i=r(74183),s=r(86728),l=r(34348),o=r(81159),c=r(34023),u=r(6202),d=r(2112),p=r(1427),m=r.n(p),f=r(58061),g=function(){return m().createElement(n.b,null,m().createElement(a.ub,{className:"empty-state-not-configured"},m().createElement(s.k,{icon:d.ZP}),m().createElement(l.Dx,{headingLevel:"h5",size:"lg"},"Resource optimization isn't configured yet"),m().createElement(i.B,null,m().createElement(n.b,null,m().createElement(o.K,{hasGutter:!0},m().createElement(c.v,null,"Resource Optimization requires installing and configuring Performance Co-Pilot on the client system."),m().createElement(c.v,null,"Check the documentation to find how to configure Resource Optimization with Ansible. An alternative method which does not require Ansible is also described."),m().createElement(c.v,null,"After configuring Resource Optimization, it may take up to 24 hours until suggestions are available.")))),m().createElement(u.Button,{component:"a",href:f.wy,target:"_blank",variant:"primary"},"Getting started documentation")))}},6257:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ve});var n=r(319),a=r.n(n),i=r(87757),s=r.n(i),l=r(48926),o=r.n(l),c=r(34575),u=r.n(c),d=r(93913),p=r.n(d),m=r(81506),f=r.n(m),g=r(2205),h=r.n(g),v=r(78585),y=r.n(v),_=r(29754),b=r.n(_),E=r(59713),O=r.n(E),w=r(1427),S=r.n(w),P=r(45697),x=r.n(P),N=r(16530),k=r(94184),R=r.n(k),I=r(60485),D=function(e){var t=e.className,r=e.title,n=R()(t);return S().createElement(I.D,{headingLevel:"h1",size:"2xl",className:n,"widget-type":"InsightsPageHeaderTitle"}," ",r," ")};const C=D;D.propTypes={title:x().node.isRequired,className:x().string};var T=r(48716),z=r(86350),j=r(2095),L=r(85962),F=r(88587),M=r(2983),B=r(67154),H=r.n(B),U=r(54025),A=r(52643),V=r(2372),Q=r(39591),Z=function(e){var t=(0,N.useHistory)(),r=(0,M.oR)();return S().createElement(w.Suspense,{fallback:e.fallback},S().createElement(U.ScalprumComponent,H()({history:t,store:r,appName:"inventory",module:"./InventoryTable",scope:"inventory",ErrorComponent:S().createElement(Q.Z,H()({component:"InventoryDetailHead",history:t,store:r},e)),ref:e.innerRef},e)))};Z.propTypes={fallback:x().node,innerRef:x().object};var W=S().forwardRef((function(e,t){return S().createElement(Z,H()({innerRef:t},e))}));W.propTypes={fallback:x().node},W.defaultProps={fallback:S().createElement(A.b,{className:"pf-u-p-lg"},S().createElement(V.$,{size:"xl"}))};const G=W;var q=r(30319),$=r(18546),K=r(76004),Y=r(24814),X=r(47945),J=function(e){var t=e.utilizedValue,r=e.measureLocation,n=e.eleId;return S().createElement(S().Fragment,null,S().createElement(X.Ex,H()({value:t,className:"progress-score-bar blue-300",measureLocation:r},n?{id:n}:null)))};J.propTypes={measureLocation:x().string,valueScore:x().number,utilizedValue:x().number,eleId:x().string};var ee=r(36269),te=r(58061);function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ae=function(e,t,r){var n=r.inventory_id,a=r.isDeleted,i=r.state;return a?S().createElement(K.Tooltip,{content:S().createElement("div",null,e," has been deleted from inventory")},S().createElement("span",{tabIndex:"0"},e)):i===te.QR?S().createElement("span",null,e):S().createElement(N.Link,{to:{pathname:"/".concat(n)},className:"pf-link system-link link-".concat(n)},e)},ie=function(e){return S().createElement(ee.l,{stateValue:e})},se=function(){return function(e,t,r){return r.state===te.QR?S().createElement("span",null,te.t0):S().createElement(J,{measureLocation:"outside",utilizedValue:e})}},le=function(e,t,r){var n=r.inventory_id,a=r.isDeleted,i=r.state;return a?S().createElement("span",null,i===te.QR?te.t0:e):i===te.QR?S().createElement("span",null,te.t0):S().createElement(N.Link,{to:{pathname:"/".concat(n)},className:"pf-link link-".concat(n)},e)},oe=function(e,t){return ne(ne({},e),{},{rows:e.rows.map((function(e){return ne(ne({},e),{},{isOpen:e.id===t.payload.id?t.payload.isOpen:e.isOpen})}))})},ce=r(53704),ue=r(3955),de=r(87999),pe=r(56067),me=function(e,t,r){var n=r.state,a=r.performance_utilization.io_all;return n===te.QR?S().createElement("span",null,te.t0):S().createElement(K.Tooltip,{position:"right",content:S().createElement("div",null,S().createElement("table",null,S().createElement("tr",null,S().createElement("th",null,"Device name"),S().createElement("th",null,"Value")),S().createElement("tr",null,S().createElement("td",{colSpan:"100%",className:"seperator"})),Object.keys(a).map((function(e,t){return S().createElement("tr",{key:t},S().createElement("td",null,e),S().createElement("td",null,a[e]),S().createElement("td",null,"IOPS"))}))))},S().createElement("span",null,e))};function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var he=function(e){h()(m,e);var t,r,n,i,l,c,d=(l=m,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b()(l);if(c){var r=b()(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return y()(this,e)});function m(e){var t;return u()(this,m),t=d.call(this,e),O()(f()(t),"updateStateFilter",(function(e){t.setState({stateFilterValue:e})})),O()(f()(t),"onDeleteFilters",(function(e,r){var n=r.filter((function(e){return"State"===e.category}));if(n.length>0){var a;t.clearStateQueryParams();var i=null===(a=n[0])||void 0===a?void 0:a.chips.map((function(e){return null==e?void 0:e.name})),s=t.state.stateFilterValue.filter((function(e){return!i.includes(e)}));t.setState({stateFilterValue:s})}})),O()(f()(t),"getActiveFilterConfig",(function(){var e=t.state.stateFilterValue.map((function(e){return{name:e}}));return e.length>0?[{category:"State",chips:e}]:[]})),t.state={perPage:10,orderBy:"display_name",orderDirection:F.SortByDirection.asc,columns:[{key:"display_name",title:"Name",renderFunc:ae},{key:"performance_utilization.cpu",title:"CPU utilization",renderFunc:se()},{key:"performance_utilization.memory",title:"Memory utilization",renderFunc:se()},{key:"performance_utilization.max_io",title:S().createElement(K.Tooltip,{content:S().createElement("span",null,"IOPS")},S().createElement("span",null,"I/O utilization")),dataLabel:"I/O utilization",renderFunc:me},{key:"number_of_suggestions",title:"Suggestions",renderFunc:le},{key:"state",title:"State",renderFunc:ie}],stateFilterValue:[]},t.sortingHeader={display_name:"display_name","performance_utilization.cpu":"cpu","performance_utilization.memory":"memory","performance_utilization.max_io":"max_io",number_of_suggestions:"number_of_suggestions",state:"state"},t.chunkSize=50,t.inventory=S().createRef(),t.fetchSystems=t.fetchSystems.bind(f()(t)),t}return p()(m,[{key:"componentDidMount",value:(i=o()(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Resource Optimization - Red Hat Insights",null===(t=insights.chrome)||void 0===t||null===(r=t.hideGlobalFilter)||void 0===r||r.call(t,!0),insights.chrome.appAction("ros-systems"),e.next=5,this.props.isROSConfigured();case 5:this.processQueryParams();case 6:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"processQueryParams",value:function(){var e=this.props.location,t=new URLSearchParams(e.search),r=t.get(te.Q0);"true"===t.get(te.H7)?this.setState({stateFilterValue:["Waiting for data"]}):"true"===r&&this.setState({stateFilterValue:["Undersized","Oversized","Under pressure","Idling"]})}},{key:"clearStateQueryParams",value:function(){var e=this.props.location,t=new URL(window.location),r=new URLSearchParams(e.search),n=r.get(te.Q0);(r.get(te.H7)||n)&&(r.delete(te.Q0),r.delete(te.H7),window.history.replaceState(null,"","".concat(t.origin).concat(t.pathname,"?").concat(r.toString()).concat(window.location.hash)))}},{key:"fetchSystems",value:(n=o()(s().mark((function e(t){var r,n,a,i,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.insights.chrome.auth.getUser();case 2:return a=ge({limit:t.perPage,offset:(t.page-1)*t.perPage,order_by:t.orderBy||this.state.orderBy,order_how:t.orderHow||this.state.orderDirection},(null==t||null===(r=t.filters)||void 0===r?void 0:r.hostnameOrId)&&{display_name:t.filters.hostnameOrId}),i=new URL(te.RC+te.M4,window.location.origin),l=new URLSearchParams(a),null==t||null===(n=t.stateFilter)||void 0===n||n.forEach((function(e){l.append("state",e)})),i.search=l.toString(),e.abrupt("return",fetch(i).then((function(e){if(!e.ok)throw Error(e.statusText);return e})).then((function(e){return e.json()})));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"chunkIdsArray",value:function(e){for(var t=[];e.length;)t.push(e.splice(0,this.chunkSize));return t}},{key:"fetchInventoryDetails",value:(r=o()(s().mark((function e(t,r){var n,i,l,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],!(r.per_page>50&&t.length>50)){e.next=8;break}return e.next=4,this.multipleGetEntitiesRequests(t,r);case 4:e.sent.map((function(e){var t;(t=n).push.apply(t,a()(e))})),e.next=12;break;case 8:return e.next=10,null===(i=(l=this.state).getEntities)||void 0===i?void 0:i.call(l,t,r,!1);case 10:o=e.sent,n=o.results;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"multipleGetEntitiesRequests",value:(t=o()(s().mark((function e(t,r){var n,a=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.chunkIdsArray(t),e.abrupt("return",Promise.all(n.map(function(){var e=o()(s().mark((function e(t){var n,i,l,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=(i=a.state).getEntities)||void 0===n?void 0:n.call(i,t,r,!1);case 2:return l=e.sent,o=l.results,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){return e})));case 2:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"renderConfigStepsOrTable",value:function(){var e=this,t=te.N7.state;return this.props.showConfigSteps?S().createElement(ue.v,null):S().createElement(j.Zb,{className:"pf-t-light  pf-m-opaque-100"},S().createElement(L.e,null,S().createElement(G,{disableDefaultColumns:!0,ref:this.inventory,hasCheckbox:!1,tableProps:{canSelectAll:!1,className:"ros-systems-table"},variant:"compact",hideFilters:{all:!0,name:!1},autoRefresh:!0,customFilters:{stateFilter:this.state.stateFilterValue},getEntities:function(){var t=o()(s().mark((function t(r,n){var a,i,l;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState((function(){return{orderBy:n.orderBy,orderDirection:n.orderDirection}})),t.next=3,e.fetchSystems({page:n.page,perPage:n.per_page,orderBy:e.sortingHeader[n.orderBy],orderHow:n.orderDirection,filters:n.filters,stateFilter:n.stateFilter});case 3:return a=t.sent,i=(a.data||[]).map((function(e){return e.inventory_id})),t.next=7,e.fetchInventoryDetails(i,ge(ge({},n),{},{page:1,hasItems:!0}));case 7:return l=t.sent,t.abrupt("return",{results:a.data.map((function(e){var t=l.find((function(t){return t.id===e.inventory_id}));return ge(ge(ge({},t),t?{isDeleted:!1}:{id:e.inventory_id,isDeleted:!0}),e)})),total:a.meta.count,page:n.page,per_page:n.per_page});case 9:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),onLoad:function(t){var r,n,a,i,s=t.mergeWithEntities,l=t.INVENTORY_ACTION_TYPES,o=t.api;e.setState({getEntities:null==o?void 0:o.getEntities}),(0,q.z2)(ge({},s((r=l,n=e.state.columns,i=r.LOAD_ENTITIES_FULFILLED,(0,$.Gg)((a={},O()(a,i,(function(e){return function(e,t){return ne(ne({},t),{},{columns:e,rows:t.rows.map((function(e){return ne(ne({},e),{},{children:(t=e,r=t.id,n=t.cloud_provider,a=t.instance_type,i=t.idling_time,S().createElement(Y.v,{id:r,cloudProvider:n,instanceType:a,idlingTime:i}))});var t,r,n,a,i})),loaded:!0})}(n,e)})),O()(a,"EXPAND_ROW",oe),a)))))),e.props.setSort(e.state.orderBy,e.state.orderDirection,"CHANGE_SORT")},expandable:"true",filterConfig:{items:[{label:t.label,type:t.type,value:"checkbox-state",filterValues:{items:t.filterValues.items,onChange:function(t,r){return e.updateStateFilter(r)},value:this.state.stateFilterValue}}]},activeFiltersConfig:{filters:this.getActiveFilterConfig(),onDelete:this.onDeleteFilters},onExpandClick:function(t,r,n,a){var i=a.id;return e.props.expandRow(i,n,"EXPAND_ROW")}})))}},{key:"render",value:function(){var e=this;return S().createElement(S().Fragment,null,S().createElement(T.Z,null,S().createElement(C,{title:"Resource Optimization"})),S().createElement(z.Z,null,S().createElement(de.B.Consumer,null,(function(t){return!1===t.permissions.systemsRead?S().createElement(pe.Z,{serviceName:"Resource Optimization"}):e.renderConfigStepsOrTable()}))))}}]),m}(S().Component);he.propTypes={expandRow:x().func,setSort:x().func,isROSConfigured:x().func,showConfigSteps:x().bool,location:x().object};const ve=(0,N.withRouter)((0,M.$j)((function(e,t){var r;return ge({showConfigSteps:null===(r=e.isConfiguredReducer)||void 0===r?void 0:r.showConfigSteps},t)}),(function(e){return{expandRow:function(t,r,n){return e({type:n,payload:{id:t,isOpen:r}})},setSort:function(t,r,n){return e({type:n,payload:{key:t,direction:r}})},isROSConfigured:function(){return e((0,ce.Pn)())}}}))(he))},58061:(e,t,r)=>{"use strict";r.d(t,{RC:()=>n,LO:()=>a,M4:()=>i,Up:()=>s,RM:()=>l,nV:()=>o,xP:()=>c,QR:()=>u,t0:()=>d,wy:()=>p,N7:()=>m,Q0:()=>f,H7:()=>g});var n="/api/ros/v1",a="/is_configured",i="/systems",s="/rating",l=-1,o=0,c=1,u="Waiting for data",d="N/A",p="https://access.redhat.com/documentation/en-us/red_hat_insights/2022/html/assessing_and_monitoring_rhel_resource_optimization_with_insights_for_red_hat_enterprise_linux/proc-ros-install_ros-getting-started",m={state:{label:"State",type:"checkbox",filterValues:{items:[{label:"Idling",value:"Idling"},{label:"Optimized",value:"Optimized"},{label:"Oversized",value:"Oversized"},{label:"Under pressure",value:"Under pressure"},{label:"Undersized",value:"Undersized"},{label:"Waiting for data",value:"Waiting for data"}]}}},f="with_suggestions",g="with_waiting_for_data"},53704:(e,t,r)=>{"use strict";r.d(t,{Pn:()=>m,t9:()=>p,Of:()=>d});var n=r(59713),a=r.n(n),i=r(58061);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e){if(!e.ok)throw Error(e.statusText);return e}var c=function(e){var t=new URL(i.RC+i.M4+"/".concat(e),window.location.origin);return window.insights.chrome.auth.getUser().then((function(){return fetch(t).then(o).then((function(e){return e.json()})).then((function(e){return e}))}))},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={limit:t.perPage,offset:(t.page-1)*t.perPage};t.description&&t.description.trim()&&(r=l(l({},r),{},{description:t.description}));var n=new URL(i.RC+i.M4+"/".concat(e,"/suggestions"),window.location.origin);n.search=new URLSearchParams(r).toString();var a=window.insights.chrome.auth.getUser().then((function(){return fetch(n).then((function(e){if(!e.ok&&404===e.status)return{hasError:!0};if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){return e}))}));return a},d=function(e){return{type:"LOAD_ROS_SYSTEM_INFO",payload:c(e)}},p=function(e,t){return{type:"FETCH_SYSTEM_RECOMMENDATIONS_LIST",payload:u(e,t)}},m=function(){return{type:"LOAD_IS_CONFIGURED_INFO",payload:(e=new URL(i.RC+i.LO,window.location.origin),window.insights.chrome.auth.getUser().then((function(){return fetch(e).then(o).then((function(e){return e.json()})).then((function(e){return e}))})))};var e}},65088:()=>{},27567:()=>{},81320:()=>{},37739:()=>{},314:()=>{},53519:()=>{}}]);