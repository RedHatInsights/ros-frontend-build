(self.webpackChunkros_frontend=self.webpackChunkros_frontend||[]).push([[13],{48926:e=>{function t(e,t,n,r,o,s,c){try{var u=e[s](c),a=u.value}catch(e){return void n(e)}u.done?t(a):Promise.resolve(a).then(r,o)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(o,s){var c=e.apply(n,r);function u(e){t(c,o,s,u,a,"next",e)}function a(e){t(c,o,s,u,a,"throw",e)}u(void 0)}))}}},87757:(e,t,n)=>{e.exports=n(35666)},87999:(e,t,n)=>{"use strict";n.d(t,{B:()=>j,Z:()=>D});var r=n(67154),o=n.n(r),s=n(87757),c=n.n(s),u=n(48926),a=n.n(u),i=n(34575),l=n.n(i),f=n(93913),h=n.n(f),p=n(2205),m=n.n(p),d=n(78585),v=n.n(d),y=n(29754),R=n.n(y),P=n(45697),E=n.n(P),b=n(43297),g=n.n(b),w=n(16530),k=n(2983),S=n(55138),x=(0,b.lazy)((function(){return Promise.all([n.e(632),n.e(821)]).then(n.bind(n,28407))})),z=(0,b.lazy)((function(){return Promise.all([n.e(549),n.e(990),n.e(632),n.e(798)]).then(n.bind(n,6997))})),C=(0,b.lazy)((function(){return Promise.all([n.e(632),n.e(377)]).then(n.bind(n,68050))})),I=function(){return g().createElement(b.Suspense,{fallback:g().createElement(S.Bullseye,null,g().createElement(S.Spinner,null))},g().createElement(w.Switch,null,g().createElement(w.Route,{exact:!0,path:"/",component:x}),g().createElement(w.Route,{path:"/suggested-instance-types",component:C}),g().createElement(w.Route,{path:"/:inventoryId",component:z}),g().createElement(w.Redirect,{path:"*",to:"/"})))};I.propTypes={childProps:E().shape({history:E().shape({push:E().func})})};var T=n(51344),B=n(83215),L=n(79943),U=n(30319),Z=n(55140);var j=(0,b.createContext)(),A=function(e){m()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=R()(t);if(n){var o=R()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return v()(this,e)});function o(){var e;return l()(this,o),(e=r.call(this)).state={hasReadPermissions:void 0,arePermissionsLoaded:!1},e}return h()(o,[{key:"handlePermissionsUpdate",value:function(e){this.setState({hasReadPermissions:e,arePermissionsLoaded:!0})}},{key:"hasPermission",value:function(e,t){var n=!1;return t.forEach((function(t){e===t&&(n=!0)})),n}},{key:"componentDidMount",value:function(){var e=this;(0,U.z2)({notifications:B.ee,systemDetailReducer:L.q3,systemRecsReducer:L.rj,isConfiguredReducer:L.Tz,systemColumnsReducer:L.l1});var t=this.props.chrome;null==t||t.updateDocumentTitle("Resource Optimization | Red Hat Insights"),this.unregister=t.on("APP_NAVIGATION",(function(t){"ros"===t.navId?e.props.history.push("/".concat(location.search).concat(location.hash)):e.props.history.push("/".concat(t.navId).concat(location.search).concat(location.hash))})),a()(c().mark((function n(){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getUserPermissions("ros",!0);case 2:r=n.sent,e.handlePermissionsUpdate(r.some((function(t){var n=t.permission;return e.hasPermission(n,["ros:*:*","ros:*:read"])})));case 4:case"end":return n.stop()}}),n)})))()}},{key:"componentWillUnmount",value:function(){"function"==typeof this.unregister&&this.unregister()}},{key:"render",value:function(){var e=this.state,t=e.hasReadPermissions;return e.arePermissionsLoaded?g().createElement(j.Provider,{value:{permissions:{hasRead:t}}},g().createElement(T.ZP,null),g().createElement(I,null)):null}}]),o}(b.Component);A.propTypes={history:E().object,chrome:E().object};const D=(0,w.withRouter)((0,k.$j)()((function(e){var t=(0,Z.Z)();return g().createElement(A,o()({},e,{chrome:t}))})))},28412:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(43297),o=n.n(r),s=n(16530),c=n(2983),u=n(30319),a=n(87999),i=n(35240);n(94500);const l=function(){return o().createElement(c.zt,{store:(0,u.S1)().getStore()},o().createElement(s.BrowserRouter,{basename:(0,i.eb)(window.location.pathname,2)},o().createElement(a.Z,null)))}},30319:(e,t,n)=>{"use strict";n.d(t,{S1:()=>u,z2:()=>a});var r,o=n(67336),s=n(68573),c=n.n(s);function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=(0,o.JH)({},[c()].concat(t))}function a(){var e;return(e=r).register.apply(e,arguments)}},59854:(e,t,n)=>{"use strict";n.d(t,{v:()=>l});var r=n(43297),o=n(2975),s=n(86496),c=n(1881),u=n(6526),a=function(e,t){return e===t};function i(e){void 0===e&&(e=u.E);var t=e===u.E?o.x:function(){return(0,r.useContext)(e)};return function(e,n){void 0===n&&(n=a);var o=t();return function(e,t,n,o){var u,a=(0,r.useReducer)((function(e){return e+1}),0)[1],i=(0,r.useMemo)((function(){return new s.Z(n,o)}),[n,o]),l=(0,r.useRef)(),f=(0,r.useRef)(),h=(0,r.useRef)();try{u=e!==f.current||l.current?e(n.getState()):h.current}catch(e){throw l.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+l.current.stack+"\n\n"),e}return(0,c.L)((function(){f.current=e,h.current=u,l.current=void 0})),(0,c.L)((function(){function e(){try{var e=f.current(n.getState());if(t(e,h.current))return;h.current=e}catch(e){l.current=e}a({})}return i.onStateChange=e,i.trySubscribe(),e(),function(){return i.tryUnsubscribe()}}),[n,i]),u}(e,n,o.store,o.subscription)}}var l=i()}}]);
//# sourceMappingURL=../sourcemaps/13.64b929ffa5cc655433937ab78413b5a2.js.map