(self.webpackChunkros_frontend=self.webpackChunkros_frontend||[]).push([[821],{47945:(e,t,r)=>{"use strict";t.Ex=t.L2=void 0;const n=r(21988),a=n.__importStar(r(1427)),i=n.__importDefault(r(64440)),s=r(38296),o=r(37819),l=r(42319);var c;!function(e){e.sm="sm",e.md="md",e.lg="lg"}(c=t.L2||(t.L2={}));class u extends a.Component{constructor(){super(...arguments),this.id=this.props.id||l.getUniqueId()}render(){const e=this.props,{id:t,size:r,className:l,value:u,title:p,label:d,variant:m,measureLocation:f,min:g,max:h,valueText:v,isTitleTruncated:y,tooltipPosition:b,"aria-label":E,"aria-labelledby":C}=e,_=n.__rest(e,["id","size","className","value","title","label","variant","measureLocation","min","max","valueText","isTitleTruncated","tooltipPosition","aria-label","aria-labelledby"]),O={"aria-valuemin":g,"aria-valuenow":u,"aria-valuemax":h};(p||C)&&(O["aria-labelledby"]=p?`${this.id}-description`:C),E&&(O["aria-label"]=E),v&&(O["aria-valuetext"]=v),p||C||E||console.warn("One of aria-label or aria-labelledby properties should be passed when using the progress component without a title.");const w=Math.min(100,Math.max(0,Math.floor((u-g)/(h-g)*100)));return a.createElement("div",Object.assign({},_,{className:s.css(i.default.progress,i.default.modifiers[m],["inside","outside"].includes(f)&&i.default.modifiers[f],"inside"===f?i.default.modifiers[c.lg]:i.default.modifiers[r],!p&&i.default.modifiers.singleline,l),id:this.id}),a.createElement(o.ProgressContainer,{parentId:this.id,value:w,title:p,label:d,variant:m,measureLocation:f,progressBarAriaProps:O,isTitleTruncated:y,tooltipPosition:b}))}}t.Ex=u,u.displayName="Progress",u.defaultProps={className:"",measureLocation:o.ProgressMeasureLocation.top,variant:null,id:"",title:"",min:0,max:100,size:null,label:null,value:0,valueText:null,isTitleTruncated:!1,tooltipPosition:"top","aria-label":null,"aria-labelledby":null}},73051:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressBar=void 0;const n=r(21988),a=n.__importStar(r(1427)),i=n.__importDefault(r(64440)),s=r(38296);t.ProgressBar=e=>{var{progressBarAriaProps:t,className:r="",children:o=null,value:l}=e,c=n.__rest(e,["progressBarAriaProps","className","children","value"]);return a.createElement("div",Object.assign({},c,{className:s.css(i.default.progressBar,r)},t),a.createElement("div",{className:s.css(i.default.progressIndicator),style:{width:`${l}%`}},a.createElement("span",{className:s.css(i.default.progressMeasure)},o)))},t.ProgressBar.displayName="ProgressBar"},37819:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressContainer=t.ProgressVariant=t.ProgressMeasureLocation=void 0;const n=r(21988),a=n.__importStar(r(1427)),i=n.__importDefault(r(64440)),s=r(38296),o=r(8045),l=n.__importDefault(r(35451)),c=n.__importDefault(r(77669)),u=n.__importDefault(r(19694)),p=r(73051);var d,m;!function(e){e.outside="outside",e.inside="inside",e.top="top",e.none="none"}(d=t.ProgressMeasureLocation||(t.ProgressMeasureLocation={})),(m=t.ProgressVariant||(t.ProgressVariant={})).danger="danger",m.success="success",m.warning="warning";const f={danger:c.default,success:l.default,warning:u.default};t.ProgressContainer=({progressBarAriaProps:e,value:t,title:r="",parentId:n,label:l=null,variant:c=null,measureLocation:u=d.top,isTitleTruncated:m=!1,tooltipPosition:g})=>{const h=f.hasOwnProperty(c)&&f[c],[v,y]=a.useState(""),b=a.createElement("div",{className:s.css(i.default.progressDescription,m&&"string"==typeof r&&i.default.modifiers.truncate),id:`${n}-description`,"aria-hidden":"true",onMouseEnter:m&&"string"==typeof r?e=>{e.target.offsetWidth<e.target.scrollWidth?y(r||e.target.innerHTML):y("")}:null},r);return a.createElement(a.Fragment,null,v?a.createElement(o.Tooltip,{position:g,content:v,isVisible:!0},b):b,a.createElement("div",{className:s.css(i.default.progressStatus),"aria-hidden":"true"},(u===d.top||u===d.outside)&&a.createElement("span",{className:s.css(i.default.progressMeasure)},l||`${t}%`),f.hasOwnProperty(c)&&a.createElement("span",{className:s.css(i.default.progressStatusIcon)},a.createElement(h,null))),a.createElement(p.ProgressBar,{role:"progressbar",progressBarAriaProps:e,value:t},u===d.inside&&`${t}%`))},t.ProgressContainer.displayName="ProgressContainer"},5381:(e,t,r)=>{"use strict";t.MA={name:"AngleDoubleDownIcon",height:512,width:320,svgPath:"M143 256.3L7 120.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0L313 86.3c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.4 9.5-24.6 9.5-34 .1zm34 192l136-136c9.4-9.4 9.4-24.6 0-33.9l-22.6-22.6c-9.4-9.4-24.6-9.4-33.9 0L160 352.1l-96.4-96.4c-9.4-9.4-24.6-9.4-33.9 0L7 278.3c-9.4 9.4-9.4 24.6 0 33.9l136 136c9.4 9.5 24.6 9.5 34 .1z",yOffset:0,xOffset:0},t.II=r(35183).createIcon(t.MA),t.ZP=t.II},2293:(e,t,r)=>{"use strict";t.zN={name:"AngleDoubleUpIcon",height:512,width:320,svgPath:"M177 255.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 351.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 425.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1zm-34-192L7 199.7c-9.4 9.4-9.4 24.6 0 33.9l22.6 22.6c9.4 9.4 24.6 9.4 33.9 0l96.4-96.4 96.4 96.4c9.4 9.4 24.6 9.4 33.9 0l22.6-22.6c9.4-9.4 9.4-24.6 0-33.9l-136-136c-9.2-9.4-24.4-9.4-33.8 0z",yOffset:0,xOffset:0},t.DW=r(35183).createIcon(t.zN),t.ZP=t.DW},82727:(e,t,r)=>{"use strict";t.hh={name:"AutomationIcon",height:1024,width:1024,svgPath:"M768,256 L768,257.4 C765.102556,256.827424 762.153196,256.559301 759.2,256.6 C705.189545,255.686899 652.247869,271.702281 607.8,302.4 C591.952568,312.712568 582.951533,330.814358 584.293158,349.674109 C585.634783,368.53386 597.107623,385.179201 614.255294,393.144598 C631.402965,401.109995 651.522926,399.14007 666.8,388 C693.450143,369.582634 725.210685,359.998506 757.6,360.6 C761.083449,360.639748 764.563612,360.372043 768,359.8 L768,360.2 C851.8,360.2 920,428.4 920,512.1 C919.932562,571.254743 885.622089,625.020813 832,650 L832,760.2 C942.4,731.8 1024,631.6 1024,512.3 C1024,370.6 909.4,256 768,256 M746.6,452 C731.4,445.8 718.4,448.4 707.8,459.8 L635.2,531.8 L619.2,547.8 L367.6,292.9 C329,260.9 304.6,256 256,256 C114.6,256 0,371.5 0,512.8 C0,654.1 114.6,768 256,768 C304,768 344.2,750.9 380,722.9 L379.4,722.5 L384.8,718.9 C400.216562,708.213968 408.692351,690.060567 406.986867,671.380284 C405.281384,652.700001 393.658366,636.381592 376.561578,628.663984 C359.46479,620.946375 339.538112,623.023033 324.4,634.1 C301.295896,650.587389 274.106741,660.41146 245.8,662.5 C163.2,661.4 104,595.8 104,512.8 C104,430.4 165.8,363.3 247.6,360.9 L252.2,360.9 C253,361.1 253.8,360.9 254.4,361.1 L254.8,361.1 C269.4,360.9 292.6,366.3 312.6,382.3 L546.6,620.6 L458.8,708.4 C447.4,719.6 444.8,732.2 451,746.8 C457.2,761.6 468.2,768 483.8,768 L732.6,768 C742.2,768 750.6,765.4 757.6,758.4 C764.417003,751.876224 768.25027,742.835499 768.200488,733.4 L768.200488,484.8 C768.200488,469.2 761,458.2 746.6,452",yOffset:0,xOffset:0},t.ZK=r(35183).createIcon(t.hh),t.ZP=t.ZK},35451:(e,t,r)=>{"use strict";t.__esModule=!0,t.CheckCircleIconConfig={name:"CheckCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z",yOffset:0,xOffset:0},t.CheckCircleIcon=r(35183).createIcon(t.CheckCircleIconConfig),t.default=t.CheckCircleIcon},84564:(e,t,r)=>{"use strict";t.MX={name:"ExclamationCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},t.$O=r(35183).createIcon(t.MX),t.ZP=t.$O},19694:(e,t,r)=>{"use strict";t.__esModule=!0,t.ExclamationTriangleIconConfig={name:"ExclamationTriangleIcon",height:512,width:576,svgPath:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},t.ExclamationTriangleIcon=r(35183).createIcon(t.ExclamationTriangleIconConfig),t.default=t.ExclamationTriangleIcon},18802:(e,t,r)=>{"use strict";t.Y3={name:"InProgressIcon",height:1024,width:1024,svgPath:"M513.417211,16.013668 L513.417211,112.013668 C513.406007,120.539653 520.082422,127.576718 528.597211,128.013668 C732.697211,136.513668 896.147211,305.013668 896.147211,511.343668 C896.147211,723.013668 724.007211,895.163668 512.417211,895.163668 C437.186239,895.277345 363.602574,873.135095 300.927211,831.523668 C294.58293,827.2982 286.138663,828.135095 280.747211,833.523668 L211.807211,902.353668 C208.502935,905.676185 206.82123,910.280199 207.20607,914.950237 C207.590911,919.620275 210.00361,923.886884 213.807211,926.623668 C300.709573,989.398037 405.213535,1023.13146 512.417211,1023.01398 C794.537211,1023.01398 1023.91724,793.433668 1023.91724,511.413668 C1024.00721,235.103668 804.007211,9.22366802 529.897211,0.00645736761 C525.571205,-0.116171039 521.377128,1.51204372 518.271915,4.52681369 C515.166702,7.54158367 513.415263,11.6857144 513.417211,16.013668 M97.1272107,212.923668 C64.2190689,258.479443 39.0698895,309.162997 22.6972107,362.923668 C21.2705092,367.756559 22.2039184,372.979173 25.2163356,377.018685 C28.2287528,381.058197 32.9681443,383.442545 38.0072107,383.453683 L139.407211,383.453683 C145.970195,383.46249 151.873012,379.462528 154.297211,373.363668 C164.307669,347.593304 177.068112,322.977652 192.357211,299.943668 C196.579666,293.633658 195.741339,285.216847 190.357211,279.863668 L121.497211,211.013668 C118.186635,207.662531 113.567544,205.940538 108.871166,206.30669 C104.174788,206.672841 99.8783994,209.089927 97.1272107,212.913668 M112.907211,511.433663 L17.0072107,511.433663 C12.679257,511.433663 8.5351263,513.183159 5.52035633,516.288373 C2.50558635,519.393586 0.877371594,523.587662 1.00721065,527.913668 C4.13104542,629.408217 37.6085847,727.635936 97.1172107,809.913668 C99.8539943,813.717268 104.120603,816.129968 108.790642,816.514809 C113.46068,816.899649 118.064693,815.217944 121.387211,811.913668 L190.217211,743.073668 C195.605784,737.682216 196.442679,729.237949 192.217211,722.893668 C153.520825,664.580171 131.611534,596.745437 128.887211,526.813668 C128.553964,518.220138 121.487197,511.427209 112.887211,511.433663",yOffset:0,xOffset:0},t.pG=r(35183).createIcon(t.Y3),t.ZP=t.pG},58773:(e,t,r)=>{"use strict";t.wP={name:"TachometerAltIcon",height:512,width:576,svgPath:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z",yOffset:0,xOffset:0},t.Le=r(35183).createIcon(t.wP),t.ZP=t.Le},77669:(e,t,r)=>{"use strict";t.__esModule=!0,t.TimesCircleIconConfig={name:"TimesCircleIcon",height:512,width:512,svgPath:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z",yOffset:0,xOffset:0},t.TimesCircleIcon=r(35183).createIcon(t.TimesCircleIconConfig),t.default=t.TimesCircleIcon},64440:(e,t,r)=>{"use strict";t.__esModule=!0,r(37739),t.default={modifiers:{sm:"pf-m-sm",lg:"pf-m-lg",inside:"pf-m-inside",outside:"pf-m-outside",staticWidth:"pf-m-static-width",singleline:"pf-m-singleline",success:"pf-m-success",warning:"pf-m-warning",danger:"pf-m-danger",truncate:"pf-m-truncate"},progress:"pf-c-progress",progressBar:"pf-c-progress__bar",progressDescription:"pf-c-progress__description",progressIndicator:"pf-c-progress__indicator",progressMeasure:"pf-c-progress__measure",progressStatus:"pf-c-progress__status",progressStatusIcon:"pf-c-progress__status-icon"}},15957:(e,t,r)=>{"use strict";t.__esModule=!0,r(53519),t.default={modifiers:{fill:"pf-m-fill",gutter:"pf-m-gutter"},stack:"pf-l-stack",stackItem:"pf-l-stack__item"}},24814:(e,t,r)=>{"use strict";r.d(t,{v:()=>p});var n=r(1427),a=r.n(n),i=r(45697),s=r.n(i),o=r(20018),l=r(19017),c=r(53325),u=r(58061),p=function(e){var t=e.inventoryId,r=e.cloudProvider,n=e.instanceType,i=e.idlingTime,s=[{label:"Provider",value:null===r?u.t0:r},{label:"Instance type",value:null===n?u.t0:n},{label:"Idling time",value:null===i?u.t0:"".concat(i,"%")}];return a().createElement(o.D,{className:"expanded-row"},a().createElement(l.Gn,{id:t,component:l.F_.dl},s.map((function(e,t){return a().createElement(a().Fragment,{key:t},a().createElement(c.Ts,{component:c.v$.dt},e.label),a().createElement(c.Ts,{component:c.v$.dd},e.value))}))))};p.propTypes={inventoryId:s().string,cloudProvider:s().string,instanceType:s().string,idlingTime:s().string}},3955:(e,t,r)=>{"use strict";r.d(t,{v:()=>g});var n=r(8896),a=r(219),i=r(74183),s=r(86728),o=r(34348),l=r(81159),c=r(34023),u=r(6202),p=r(2112),d=r(1427),m=r.n(d),f=r(58061),g=function(){return m().createElement(n.b,null,m().createElement(a.ub,{className:"empty-state-not-configured"},m().createElement(s.k,{icon:p.ZP}),m().createElement(o.Dx,{headingLevel:"h5",size:"lg"},"Resource optimization isn't configured yet"),m().createElement(i.B,null,m().createElement(n.b,null,m().createElement(l.K,{hasGutter:!0},m().createElement(c.v,null,"Resource Optimization requires installing and configuring Performance Co-Pilot on the client system."),m().createElement(c.v,null,"Check the documentation to find how to configure Resource Optimization with Ansible. An alternative method which does not require Ansible is also described."),m().createElement(c.v,null,"After configuring Resource Optimization, it may take up to 24 hours until suggestions are available.")))),m().createElement(u.Button,{component:"a",href:f.wy,target:"_blank",variant:"primary"},"Getting started documentation")))}},73362:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Pe});var n=r(319),a=r.n(n),i=r(87757),s=r.n(i),o=r(48926),l=r.n(o),c=r(34575),u=r.n(c),p=r(93913),d=r.n(p),m=r(81506),f=r.n(m),g=r(2205),h=r.n(g),v=r(78585),y=r.n(v),b=r(29754),E=r.n(b),C=r(59713),_=r.n(C),O=r(1427),w=r.n(O),P=r(45697),I=r.n(P),S=r(16530),x=r(94184),z=r.n(x),L=r(60485),k=function(e){var t=e.className,r=e.title,n=z()(t);return w().createElement(L.D,{headingLevel:"h1",size:"2xl",className:n,"widget-type":"InsightsPageHeaderTitle"}," ",r," ")};const T=k;k.propTypes={title:I().node.isRequired,className:I().string};var R=r(48716),D=r(86350),M=r(2095),N=r(85962),j=r(88587),F=r(2983),A=r(67154),U=r.n(A),B=r(54025),V=r(52643),Z=r(2372),H=r(39591),Q=function(e){var t=(0,S.useHistory)(),r=(0,F.oR)();return w().createElement(O.Suspense,{fallback:e.fallback},w().createElement(B.ScalprumComponent,U()({history:t,store:r,appName:"inventory",module:"./InventoryTable",scope:"inventory",ErrorComponent:w().createElement(H.Z,U()({component:"InventoryDetailHead",history:t,store:r},e)),ref:e.innerRef},e)))};Q.propTypes={fallback:I().node,innerRef:I().object};var W=w().forwardRef((function(e,t){return w().createElement(Q,U()({innerRef:t},e))}));W.propTypes={fallback:I().node},W.defaultProps={fallback:w().createElement(V.b,{className:"pf-u-p-lg"},w().createElement(Z.$,{size:"xl"}))};const G=W;var $=r(30319),q=r(18546),Y=r(76004),X=r(24814),K=r(47945),J=function(e){var t=e.utilizedValue,r=e.measureLocation,n=e.eleId;return w().createElement(w().Fragment,null,w().createElement(K.Ex,U()({value:t,className:"progress-score-bar blue-300",measureLocation:r},n?{id:n}:null)))};J.propTypes={measureLocation:I().string,valueScore:I().number,utilizedValue:I().number,eleId:I().string};var ee=r(84564),te=r(19694),re=r(35451),ne=r(2293),ae=r(5381),ie=r(82727),se=r(18802),oe=r(58773),le=function(e){var t,r=e.stateValue,n=(t=r,{Oversized:{text:"This system is not fully consuming available resources and may be oversized.",icon:w().createElement(ne.ZP,{color:"#f09800",size:"sm"})},Undersized:{text:"This system is depleting available resources and may be undersized.",icon:w().createElement(ae.ZP,{color:"red",size:"sm"})},Idling:{text:"This system displays higher idling cycles than is expected.",icon:w().createElement(ie.ZP,{size:"sm"})},"Storage rightsizing":{text:"This system is experiencing a storage Input/Output bottleneck.",icon:w().createElement(te.default,{color:"#f09800",size:"sm"})},Optimized:{text:"This system is running efficiently.",icon:w().createElement(re.default,{color:"green",size:"sm"})},Crashloop:{text:"This system is experiencing a crash loop.",icon:w().createElement(ee.ZP,{color:"red",size:"sm"})},"Waiting for data":{text:"This system is configured, please allow 24 hours for your upload to complete.",icon:w().createElement(se.ZP,{color:"#2B9AF3",size:"sm"})},"Under pressure":{text:"System resources adequate but experiencing occasional peaks.",icon:w().createElement(oe.ZP,{color:"#030303",size:"sm"})}}[t]||{}),a=n.text,i=n.icon;return w().createElement("span",null,w().createElement("span",null,a?w().createElement(Y.Tooltip,{content:w().createElement("div",null,a)},w().createElement("span",null,i," ",r)):r))};le.propTypes={stateValue:I().string};var ce=r(58061);function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var de=function(e,t,r){var n=r.inventory_id,a=r.isDeleted,i=r.state;return a?w().createElement(Y.Tooltip,{content:w().createElement("div",null,e," has been deleted from inventory")},w().createElement("span",{tabIndex:"0"},e)):i===ce.QR?w().createElement("span",null,e):w().createElement(S.Link,{to:{pathname:"/".concat(n)},className:"pf-link system-link link-".concat(n)},e)},me=function(e){return w().createElement(le,{stateValue:e})},fe=function(){return function(e,t,r){return r.state===ce.QR?w().createElement("span",null,ce.t0):w().createElement(J,{measureLocation:"outside",utilizedValue:e})}},ge=function(e,t,r){var n=r.inventory_id,a=r.isDeleted,i=r.state;return a?w().createElement("span",null,i===ce.QR?ce.t0:e):i===ce.QR?w().createElement("span",null,ce.t0):w().createElement(S.Link,{to:{pathname:"/".concat(n)},className:"pf-link link-".concat(n)},e)},he=function(e,t){return pe(pe({},e),{},{rows:e.rows.map((function(e){return pe(pe({},e),{},{isOpen:e.id===t.payload.id?t.payload.isOpen:e.isOpen})}))})},ve=r(53704),ye=r(3955),be=r(87999),Ee=r(56067),Ce=function(e,t,r){var n=r.state,a=r.performance_utilization.io_all;return n===ce.QR?w().createElement("span",null,ce.t0):w().createElement(Y.Tooltip,{position:"right",content:w().createElement("div",null,w().createElement("table",null,w().createElement("tr",null,w().createElement("th",null,"Device name"),w().createElement("th",null,"Value")),w().createElement("tr",null,w().createElement("td",{colSpan:"100%",className:"seperator"})),Object.keys(a).map((function(e,t){return w().createElement("tr",{key:t},w().createElement("td",null,e),w().createElement("td",null,a[e]),w().createElement("td",null,"IOPS"))}))))},w().createElement("span",null,e))};function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var we=function(e){h()(m,e);var t,r,n,i,o,c,p=(o=m,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=E()(o);if(c){var r=E()(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return y()(this,e)});function m(e){var t;return u()(this,m),t=p.call(this,e),_()(f()(t),"updateStateFilter",(function(e){t.setState({stateFilterValue:e})})),_()(f()(t),"onDeleteFilters",(function(e,r){var n=r.filter((function(e){return"State"===e.category}));if(n.length>0){var a;t.clearStateQueryParams();var i=null===(a=n[0])||void 0===a?void 0:a.chips.map((function(e){return null==e?void 0:e.name})),s=t.state.stateFilterValue.filter((function(e){return!i.includes(e)}));t.setState({stateFilterValue:s})}})),_()(f()(t),"getActiveFilterConfig",(function(){var e=t.state.stateFilterValue.map((function(e){return{name:e}}));return e.length>0?[{category:"State",chips:e}]:[]})),t.state={perPage:10,orderBy:"display_name",orderDirection:j.SortByDirection.asc,columns:[{key:"display_name",title:"Name",renderFunc:de},{key:"performance_utilization.cpu",title:"CPU utilization",renderFunc:fe()},{key:"performance_utilization.memory",title:"Memory utilization",renderFunc:fe()},{key:"performance_utilization.max_io",title:w().createElement(Y.Tooltip,{content:w().createElement("span",null,"IOPS")},w().createElement("span",null,"I/O utilization")),dataLabel:"I/O utilization",renderFunc:Ce},{key:"number_of_suggestions",title:"Suggestions",renderFunc:ge},{key:"state",title:"State",renderFunc:me}],stateFilterValue:[]},t.sortingHeader={display_name:"display_name","performance_utilization.cpu":"cpu","performance_utilization.memory":"memory","performance_utilization.max_io":"max_io",number_of_suggestions:"number_of_suggestions",state:"state"},t.chunkSize=50,t.inventory=w().createRef(),t.fetchSystems=t.fetchSystems.bind(f()(t)),t}return d()(m,[{key:"componentDidMount",value:(i=l()(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Resource Optimization - Red Hat Insights",null===(t=insights.chrome)||void 0===t||null===(r=t.hideGlobalFilter)||void 0===r||r.call(t,!0),insights.chrome.appAction("ros-systems"),e.next=5,this.props.isROSConfigured();case 5:this.processQueryParams();case 6:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"processQueryParams",value:function(){var e=this.props.location,t=new URLSearchParams(e.search),r=t.get(ce.Q0);"true"===t.get(ce.H7)?this.setState({stateFilterValue:["Waiting for data"]}):"true"===r&&this.setState({stateFilterValue:["Undersized","Oversized","Under pressure","Idling"]})}},{key:"clearStateQueryParams",value:function(){var e=this.props.location,t=new URL(window.location),r=new URLSearchParams(e.search),n=r.get(ce.Q0);(r.get(ce.H7)||n)&&(r.delete(ce.Q0),r.delete(ce.H7),window.history.replaceState(null,"","".concat(t.origin).concat(t.pathname,"?").concat(r.toString()).concat(window.location.hash)))}},{key:"fetchSystems",value:(n=l()(s().mark((function e(t){var r,n,a,i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.insights.chrome.auth.getUser();case 2:return a=Oe({limit:t.perPage,offset:(t.page-1)*t.perPage,order_by:t.orderBy||this.state.orderBy,order_how:t.orderHow||this.state.orderDirection},(null==t||null===(r=t.filters)||void 0===r?void 0:r.hostnameOrId)&&{display_name:t.filters.hostnameOrId}),i=new URL(ce.RC+ce.M4,window.location.origin),o=new URLSearchParams(a),null==t||null===(n=t.stateFilter)||void 0===n||n.forEach((function(e){o.append("state",e)})),i.search=o.toString(),e.abrupt("return",fetch(i).then((function(e){if(!e.ok)throw Error(e.statusText);return e})).then((function(e){return e.json()})));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"chunkIdsArray",value:function(e){for(var t=[];e.length;)t.push(e.splice(0,this.chunkSize));return t}},{key:"fetchInventoryDetails",value:(r=l()(s().mark((function e(t,r){var n,i,o,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],!(r.per_page>50&&t.length>50)){e.next=8;break}return e.next=4,this.multipleGetEntitiesRequests(t,r);case 4:e.sent.map((function(e){var t;(t=n).push.apply(t,a()(e))})),e.next=12;break;case 8:return e.next=10,null===(i=(o=this.state).getEntities)||void 0===i?void 0:i.call(o,t,r,!1);case 10:l=e.sent,n=l.results;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"multipleGetEntitiesRequests",value:(t=l()(s().mark((function e(t,r){var n,a=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.chunkIdsArray(t),e.abrupt("return",Promise.all(n.map(function(){var e=l()(s().mark((function e(t){var n,i,o,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=(i=a.state).getEntities)||void 0===n?void 0:n.call(i,t,r,!1);case 2:return o=e.sent,l=o.results,e.abrupt("return",l);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){return e})));case 2:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"renderConfigStepsOrTable",value:function(){var e=this,t=ce.N7.state;return this.props.showConfigSteps?w().createElement(ye.v,null):w().createElement(M.Zb,{className:"pf-t-light  pf-m-opaque-100"},w().createElement(N.e,null,w().createElement(G,{disableDefaultColumns:!0,ref:this.inventory,hasCheckbox:!1,tableProps:{canSelectAll:!1,className:"ros-systems-table"},variant:"compact",hideFilters:{all:!0,name:!1},autoRefresh:!0,customFilters:{stateFilter:this.state.stateFilterValue},getEntities:function(){var t=l()(s().mark((function t(r,n){var a,i,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState((function(){return{orderBy:n.orderBy,orderDirection:n.orderDirection}})),t.next=3,e.fetchSystems({page:n.page,perPage:n.per_page,orderBy:e.sortingHeader[n.orderBy],orderHow:n.orderDirection,filters:n.filters,stateFilter:n.stateFilter});case 3:return a=t.sent,i=(a.data||[]).map((function(e){return e.inventory_id})),t.next=7,e.fetchInventoryDetails(i,Oe(Oe({},n),{},{page:1,hasItems:!0}));case 7:return o=t.sent,t.abrupt("return",{results:a.data.map((function(e){var t=o.find((function(t){return t.id===e.inventory_id}));return Oe(Oe(Oe({},t),t?{isDeleted:!1}:{id:e.inventory_id,isDeleted:!0}),e)})),total:a.meta.count,page:n.page,per_page:n.per_page});case 9:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),onLoad:function(t){var r,n,a,i,s=t.mergeWithEntities,o=t.INVENTORY_ACTION_TYPES,l=t.api;e.setState({getEntities:null==l?void 0:l.getEntities}),(0,$.z2)(Oe({},s((r=o,n=e.state.columns,i=r.LOAD_ENTITIES_FULFILLED,(0,q.Gg)((a={},_()(a,i,(function(e){return function(e,t){return pe(pe({},t),{},{columns:e,rows:t.rows.map((function(e){return pe(pe({},e),{},{children:(t=e,r=t.id,n=t.cloud_provider,a=t.instance_type,i=t.idling_time,w().createElement(X.v,{id:r,cloudProvider:n,instanceType:a,idlingTime:i}))});var t,r,n,a,i})),loaded:!0})}(n,e)})),_()(a,"EXPAND_ROW",he),a)))))),e.props.setSort(e.state.orderBy,e.state.orderDirection,"CHANGE_SORT")},expandable:"true",filterConfig:{items:[{label:t.label,type:t.type,value:"checkbox-state",filterValues:{items:t.filterValues.items,onChange:function(t,r){return e.updateStateFilter(r)},value:this.state.stateFilterValue}}]},activeFiltersConfig:{filters:this.getActiveFilterConfig(),onDelete:this.onDeleteFilters},onExpandClick:function(t,r,n,a){var i=a.id;return e.props.expandRow(i,n,"EXPAND_ROW")}})))}},{key:"render",value:function(){var e=this;return w().createElement(w().Fragment,null,w().createElement(R.Z,null,w().createElement(T,{title:"Resource Optimization"})),w().createElement(D.Z,null,w().createElement(be.B.Consumer,null,(function(t){return!1===t.permissions.systemsRead?w().createElement(Ee.Z,{serviceName:"Resource Optimization"}):e.renderConfigStepsOrTable()}))))}}]),m}(w().Component);we.propTypes={expandRow:I().func,setSort:I().func,isROSConfigured:I().func,showConfigSteps:I().bool,location:I().object};const Pe=(0,S.withRouter)((0,F.$j)((function(e,t){var r;return Oe({showConfigSteps:null===(r=e.isConfiguredReducer)||void 0===r?void 0:r.showConfigSteps},t)}),(function(e){return{expandRow:function(t,r,n){return e({type:n,payload:{id:t,isOpen:r}})},setSort:function(t,r,n){return e({type:n,payload:{key:t,direction:r}})},isROSConfigured:function(){return e((0,ve.Pn)())}}}))(we))},58061:(e,t,r)=>{"use strict";r.d(t,{RC:()=>n,LO:()=>a,M4:()=>i,Up:()=>s,RM:()=>o,nV:()=>l,xP:()=>c,QR:()=>u,t0:()=>p,wy:()=>d,N7:()=>m,Q0:()=>f,H7:()=>g});var n="/api/ros/v1",a="/is_configured",i="/systems",s="/rating",o=-1,l=0,c=1,u="Waiting for data",p="N/A",d="https://access.redhat.com/documentation/en-us/red_hat_insights/2022/html/assessing_and_monitoring_rhel_resource_optimization_with_insights_for_red_hat_enterprise_linux/proc-ros-install_ros-getting-started",m={state:{label:"State",type:"checkbox",filterValues:{items:[{label:"Idling",value:"Idling"},{label:"Optimized",value:"Optimized"},{label:"Oversized",value:"Oversized"},{label:"Under pressure",value:"Under pressure"},{label:"Undersized",value:"Undersized"},{label:"Waiting for data",value:"Waiting for data"}]}}},f="with_suggestions",g="with_waiting_for_data"},53704:(e,t,r)=>{"use strict";r.d(t,{Pn:()=>m,t9:()=>d,Of:()=>p});var n=r(59713),a=r.n(n),i=r(58061);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e){if(!e.ok)throw Error(e.statusText);return e}var c=function(e){var t=new URL(i.RC+i.M4+"/".concat(e),window.location.origin);return window.insights.chrome.auth.getUser().then((function(){return fetch(t).then(l).then((function(e){return e.json()})).then((function(e){return e}))}))},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={limit:t.perPage,offset:(t.page-1)*t.perPage};t.description&&t.description.trim()&&(r=o(o({},r),{},{description:t.description}));var n=new URL(i.RC+i.M4+"/".concat(e,"/suggestions"),window.location.origin);n.search=new URLSearchParams(r).toString();var a=window.insights.chrome.auth.getUser().then((function(){return fetch(n).then((function(e){if(!e.ok&&404===e.status)return{hasError:!0};if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){return e}))}));return a},p=function(e){return{type:"LOAD_ROS_SYSTEM_INFO",payload:c(e)}},d=function(e,t){return{type:"FETCH_SYSTEM_RECOMMENDATIONS_LIST",payload:u(e,t)}},m=function(){return{type:"LOAD_IS_CONFIGURED_INFO",payload:(e=new URL(i.RC+i.LO,window.location.origin),window.insights.chrome.auth.getUser().then((function(){return fetch(e).then(l).then((function(e){return e.json()})).then((function(e){return e}))})))};var e}},65088:()=>{},81320:()=>{},37739:()=>{},314:()=>{},53519:()=>{}}]);
//# sourceMappingURL=../sourcemaps/RosPage.976ef65a697175f72c1b7c2515c49e1f.js.map