"use strict";(self.webpackChunkros_frontend=self.webpackChunkros_frontend||[]).push([[798],{98593:(e,t,n)=>{n.r(t),n.d(t,{default:()=>oe});var r=n(59713),o=n.n(r),i=n(87757),a=n.n(i),c=n(48926),s=n.n(c),l=n(34575),u=n.n(l),p=n(93913),m=n.n(p),f=n(2205),y=n.n(f),d=n(78585),h=n.n(d),v=n(29754),b=n.n(v),O=n(1427),g=n.n(O),E=n(45697),P=n.n(E),j=n(16530),w=n(37703),I=n(49287),D=n(18038),k=n(85991),S=n(49489),R=n(86350),_=n(48716),N=n(38775),T=n(53895),C=n(33902),Z=n(30319),z=n(53704),x=n(18546),L=n(86503);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F={loaded:!1},M=function(e){return B(B({},e),{},{loaded:!0,activeApps:[{title:"Resource optimization",name:"resource optimization",component:L.default}]})},U=n(24814),W=n(63038),Y=n.n(W),G=n(6202),V=n(11239),J=n(49580),$=n(61088),q=n(90502),H=n(58061),K=function(e){var t=e.system,n=(0,O.useState)(t.rating),r=Y()(n,2),o=r[0],i=r[1],c=(0,O.useState)(!1),l=Y()(c,2),u=l[0],p=l[1],m=function(){var e=s()(a().mark((function e(n){var r,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o===n?H.nV:n,e.prev=1,c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inventory_id:t.inventoryId,rating:r})},e.next=5,fetch("".concat(H.RC).concat(H.Up),c);case 5:i(r),p(!0),setTimeout((function(){return p(!1)}),3e3),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return g().createElement("span",{className:"ratingSpanOverride"},"Is this suggestion helpful?",g().createElement(G.Button,{variant:"plain","aria-label":"thumbs-up",onClick:function(){return m(H.xP)},ouiaId:"thumbsUp"},o===H.xP?g().createElement($.ZP,{className:"like",size:"sm"}):g().createElement(V.ZP,{size:"sm"})),g().createElement(G.Button,{variant:"plain","aria-label":"thumbs-down",onClick:function(){return m(H.RM)},ouiaId:"thumbsDown"},o===H.RM?g().createElement(q.ZP,{className:"dislike",size:"sm"}):g().createElement(J.ZP,{size:"sm"})),u&&"Thank you for your feedback!")};K.propTypes={system:P().object};const Q=K;var X=n(27839),ee=n(99621);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(e){y()(c,e);var t,n,r,i=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b()(n);if(r){var o=b()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return h()(this,e)});function c(e){var t;return u()(this,c),(t=i.call(this,e)).state={inventoryId:t.props.match.params.inventoryId},t}return m()(c,[{key:"componentDidMount",value:(t=s()(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=insights.chrome)||void 0===t||null===(n=t.hideGlobalFilter)||void 0===n||n.call(t,!0),insights.chrome.appAction("system-detail"),e.next=4,this.props.loadSystemInfo(this.state.inventoryId);case 4:document.title=this.props.rosSystemInfo.display_name;case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"renderChildrenNode",value:function(){if(this.props.rosSystemInfo){var e=this.props.rosSystemInfo,t=e.cloud_provider,n=e.instance_type,r=e.idling_time,o=e.io_wait,i=e.rating,a=this.props.match.params.inventoryId;return g().createElement(I.r,{className:"ros-system-info"},g().createElement(D.P,null,g().createElement(U.v,{cloudProvider:t,instanceType:n,idlingTime:r,ioWait:o,inventoryId:a})),g().createElement(D.P,null,g().createElement(Q,{system:ne({},{rating:i,inventoryId:a})})))}return null}},{key:"render",value:function(){var e=this,t=this.props.entity;return g().createElement(g().Fragment,null,g().createElement(ee.B.Consumer,null,(function(n){return!1===n.permissions.systemsRead?g().createElement(X.Z,{serviceName:"Resource Optimization"}):g().createElement(N.Z,{onLoad:function(e){var t=e.mergeWithDetail,n=e.INVENTORY_ACTION_TYPES;(0,Z.z2)(t(function(e){var t=e.LOAD_ENTITY_FULFILLED;return(0,x.Gg)(o()({},t,M),F)}(n)))},className:"rosDetailWrapper"},g().createElement(_.Z,null,g().createElement(k.a,{ouiaId:"system-detail"},g().createElement(S.g,null,g().createElement(j.Link,{to:"/"},"Resource Optimization")),g().createElement(S.g,{isActive:!0},g().createElement("div",{className:"ins-c-inventory__detail--breadcrumb-name"},t?t.display_name:null))),g().createElement(T.Z,{hideBack:!0,showDelete:!1,hideInvDrawer:!0}),e.renderChildrenNode()),g().createElement(R.Z,null,g().createElement(I.r,{gutter:"md"},g().createElement(D.P,{span:12},g().createElement(C.Z,{showTags:!0,fallback:""})))))})))}}]),c}(g().Component);re.propTypes={match:P().any,entity:P().object,loading:P().bool,rosSystemInfo:P().object,loadSystemInfo:P().func};const oe=(0,j.withRouter)((0,w.$j)((function(e,t){var n,r;return ne({entity:e.entityDetails&&e.entityDetails.entity,loading:null===(n=e.systemDetailReducer)||void 0===n?void 0:n.loading,rosSystemInfo:null===(r=e.systemDetailReducer)||void 0===r?void 0:r.systemInfo},t)}),(function(e){return{loadSystemInfo:function(t){return e((0,z.Of)(t))}}}))(re))}}]);
//# sourceMappingURL=../sourcemaps/RosSystemDetail.59c1da2a4d4901884be02ee10e300936.js.map