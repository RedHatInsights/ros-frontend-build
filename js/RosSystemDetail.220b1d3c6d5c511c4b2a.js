(self.webpackChunkros_frontend=self.webpackChunkros_frontend||[]).push([[798],{38897:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".ros .like{color:var(--pf-global--success-color--100)}.ros .dislike{color:var(--pf-global--primary-color--100)}.ros .ratingSpanOverride{font-size:var(--pf-global--FontSize--md)}.ros .ratingSpanOverride button{padding:8px}\n",""]),e.exports=t},75695:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,'.ros .ros-system-info .pf-c-content.expanded-row dl{grid-row-gap:0}.ros .ros-system-info .pf-c-content.expanded-row dt{font-weight:var(--pf-global--FontWeight--normal)}.ros .ros-system-info .pf-c-content.expanded-row dt:after{content:":"}\n',""]),e.exports=t},19875:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>oe});var r=n(59713),o=n.n(r),i=n(87757),c=n.n(i),a=n(48926),s=n.n(a),l=n(34575),u=n.n(l),f=n(93913),p=n.n(f),d=n(2205),m=n.n(d),h=n(78585),y=n.n(h),v=n(29754),b=n.n(v),g=n(1427),O=n.n(g),w=n(45697),E=n.n(w),P=n(16530),j=n(80962),S=n(49287),I=n(18038),D=n(85991),k=n(49489),R=n(86350),T=n(48716),_=n(38775),x=n(53895),N=n(33902),C=n(55206),L=n(83279),z=n(18546);var M=O().lazy((function(){return Promise.all([n.e(410),n.e(252),n.e(438),n.e(748),n.e(23)]).then(n.bind(n,55023))})),Z=function(e){m()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=b()(t);if(n){var o=b()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return y()(this,e)});function o(e){return u()(this,o),r.call(this,e)}return p()(o,[{key:"render",value:function(){return O().createElement(g.Suspense,{fallback:""},O().createElement(M,{inventoryId:this.props.inventoryId}))}}]),o}(O().Component);Z.propTypes={inventoryId:E().string};const F=(0,P.withRouter)(Z);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y={loaded:!1},W=function(e){return A(A({},e),{},{loaded:!0,activeApps:[{title:"Resource optimization",name:"resource optimization",component:F}]})},B=(n(39831),n(82253)),G=n(63038),V=n.n(G),H=n(6202),J=n(11239),q=n(49580),K=n(61088),Q=n(90502),X=(n(86531),n(8969)),$=function(e){var t=e.system,n=(0,g.useState)(t.rating),r=V()(n,2),o=r[0],i=r[1],a=(0,g.useState)(!1),l=V()(a,2),u=l[0],f=l[1],p=function(){var e=s()(c().mark((function e(n){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o===n?X.nV:n,e.prev=1,a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inventory_id:t.inventoryId,rating:r})},e.next=5,fetch("".concat(X.RC).concat(X.Up),a);case 5:i(r),f(!0),setTimeout((function(){return f(!1)}),3e3),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return O().createElement("span",{className:"ratingSpanOverride"},"Is this recommendation helpful?",O().createElement(H.Button,{variant:"plain","aria-label":"thumbs-up",onClick:function(){return p(X.xP)},ouiaId:"thumbsUp"},o===X.xP?O().createElement(K.ZP,{className:"like",size:"sm"}):O().createElement(J.ZP,{size:"sm"})),O().createElement(H.Button,{variant:"plain","aria-label":"thumbs-down",onClick:function(){return p(X.RM)},ouiaId:"thumbsDown"},o===X.RM?O().createElement(Q.ZP,{className:"dislike",size:"sm"}):O().createElement(q.ZP,{size:"sm"})),u&&"Thank you for your feedback!")};$.propTypes={system:E().object};const ee=$;function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(e){m()(a,e);var t,n,r,i=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b()(n);if(r){var o=b()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return y()(this,e)});function a(e){var t;return u()(this,a),(t=i.call(this,e)).state={inventoryId:t.props.match.params.inventoryId},t}return p()(a,[{key:"componentDidMount",value:(t=s()(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=insights.chrome)||void 0===t||null===(n=t.hideGlobalFilter)||void 0===n||n.call(t,!0),insights.chrome.appAction("system-detail"),e.next=4,this.props.loadSystemInfo(this.state.inventoryId);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"renderChildrenNode",value:function(){if(this.props.rosSystemInfo){var e=this.props.rosSystemInfo,t=e.cloud_provider,n=e.instance_type,r=e.idling_time,o=e.io_wait,i=e.rating,c=this.props.match.params.inventoryId;return O().createElement(S.r,{className:"ros-system-info"},O().createElement(I.P,null,O().createElement(B.v,{cloudProvider:t,instanceType:n,idlingTime:r,ioWait:o,inventoryId:c})),O().createElement(I.P,null,O().createElement(ee,{system:ne({},{rating:i,inventoryId:c})})))}return null}},{key:"render",value:function(){var e=this.props.entity;return O().createElement(O().Fragment,null,O().createElement(_.Z,{hideInvLink:!0,onLoad:function(e){var t=e.mergeWithDetail,n=e.INVENTORY_ACTION_TYPES;(0,C.z2)(t(function(e){var t=e.LOAD_ENTITY_FULFILLED;return(0,z.Gg)(o()({},t,W),Y)}(n)))},className:"rosDetailWrapper"},O().createElement(T.Z,null,O().createElement(D.a,{ouiaId:"system-detail"},O().createElement(k.g,null,O().createElement(P.Link,{to:"/"},"Resource Optimization")),O().createElement(k.g,{isActive:!0},O().createElement("div",{className:"ins-c-inventory__detail--breadcrumb-name"},e?e.display_name:null))),O().createElement(x.Z,{hideBack:!0,hideInvLink:!0,showDelete:!1,hideInvDrawer:!0}),this.renderChildrenNode()),O().createElement(R.Z,null,O().createElement(S.r,{gutter:"md"},O().createElement(I.P,{span:12},O().createElement(N.Z,{showTags:!0,fallback:""}))))))}}]),a}(O().Component);re.propTypes={match:E().any,entity:E().object,loading:E().bool,rosSystemInfo:E().object,loadSystemInfo:E().func};const oe=(0,P.withRouter)((0,j.connect)((function(e,t){var n,r;return ne({entity:e.entityDetails&&e.entityDetails.entity,loading:null===(n=e.systemDetailReducer)||void 0===n?void 0:n.loading,rosSystemInfo:null===(r=e.systemDetailReducer)||void 0===r?void 0:r.systemInfo},t)}),(function(e){return{loadSystemInfo:function(t){return e((0,L.O)(t))}}}))(re))},83279:(e,t,n)=>{"use strict";n.d(t,{t:()=>p,O:()=>f});var r=n(59713),o=n.n(r),i=n(8969);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){if(!e.ok)throw Error(e.statusText);return e}var l=function(e){var t=new URL(i.RC+i.M4+"/".concat(e),window.location.origin);return window.insights.chrome.auth.getUser().then((function(){return fetch(t).then(s).then((function(e){return e.json()})).then((function(e){return e}))}))},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={limit:t.perPage,offset:(t.page-1)*t.perPage};t.description&&t.description.trim()&&(n=a(a({},n),{},{description:t.description}));var r=new URL(i.RC+i.M4+"/".concat(e,"/recommendations"),window.location.origin);r.search=new URLSearchParams(n).toString();var o=window.insights.chrome.auth.getUser().then((function(){return fetch(r).then(s).then((function(e){return e.json()})).then((function(e){return e}))}));return o},f=function(e){return{type:"LOAD_ROS_SYSTEM_INFO",payload:l(e)}},p=function(e,t){return{type:"FETCH_SYSTEM_RECOMMENDATIONS_LIST",payload:u(e,t)}}},86531:(e,t,n)=>{"use strict";var r=n(93379),o=n.n(r),i=n(38897),c=n.n(i),a=o()(c(),{insert:"head",singleton:!1});if(!c().locals||e.hot.invalidate){var s=c().locals;e.hot.accept(38897,(t=>{i=n(38897),function(e,t,n){if(!e&&t||e&&!t)return!1;var r;for(r in e)if(e[r]!==t[r])return!1;for(r in t)if(!e[r])return!1;return!0}(s,(c=n.n(i))().locals)?(s=c().locals,a(c())):e.hot.invalidate()}))}e.hot.dispose((function(){a()})),c().locals},39831:(e,t,n)=>{"use strict";var r=n(93379),o=n.n(r),i=n(75695),c=n.n(i),a=o()(c(),{insert:"head",singleton:!1});if(!c().locals||e.hot.invalidate){var s=c().locals;e.hot.accept(75695,(t=>{i=n(75695),function(e,t,n){if(!e&&t||e&&!t)return!1;var r;for(r in e)if(e[r]!==t[r])return!1;for(r in t)if(!e[r])return!1;return!0}(s,(c=n.n(i))().locals)?(s=c().locals,a(c())):e.hot.invalidate()}))}e.hot.dispose((function(){a()})),c().locals}}]);
//# sourceMappingURL=RosSystemDetail.220b1d3c6d5c511c4b2a.js.map