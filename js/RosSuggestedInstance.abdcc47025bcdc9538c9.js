"use strict";(self.webpackChunkros=self.webpackChunkros||[]).push([[3943],{22204:(e,t,n)=>{n.d(t,{c:()=>s});var r=n(8674),a=n(93345),o=n(33774),i=n(68463);const s=e=>{var{children:t,className:n}=e,s=(0,r.__rest)(e,["children","className"]);return a.createElement("div",Object.assign({className:(0,o.A)(i.A.emptyStateActions,n)},s),t)};s.displayName="EmptyStateActions"},36683:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(74848),a=n(93345),o=n.n(a),i=n(33675),s=n(86130),l=n(33905),c=n(75279),p=n(75415),u=n(22204),m=n(72583);const d=(0,n(68419).w)({name:"LockIcon",height:512,width:448,svgPath:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z",yOffset:0,xOffset:0});const g=e=>{var{prevPageButtonText:t="Return to previous page",toLandingPageText:n="Go to landing page",toLandingPageUrl:r=".",primaryAction:a=null,secondaryActions:g=null,serviceName:y,title:f=`You do not have access to ${y}`,icon:h=d,description:E="Contact your system administrator(s) for more information.",showReturnButton:v=!0,className:S}=e,O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["prevPageButtonText","toLandingPageText","toLandingPageUrl","primaryAction","secondaryActions","serviceName","title","icon","description","showReturnButton","className"]);return o().createElement(i.p,Object.assign({variant:i.s.full,className:S},O),o().createElement(s.o,{titleText:o().createElement(o().Fragment,null,f),icon:o().createElement(l.q,{icon:h}),headingLevel:"h5"}),o().createElement(c.h,null,E),o().createElement(p.s,null,a?o().createElement(u.c,null,a):null,v&&!a&&(document.referrer?o().createElement(m.$n,{variant:m.Ak.primary,onClick:()=>history.back()},t):o().createElement(m.$n,{variant:m.Ak.primary,component:"a",href:r},n)),o().createElement(u.c,null,g?o().createElement(u.c,null,g):null)))};var y=function(){return y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},y.apply(this,arguments)};const f=function(e){var t=e.description,n=void 0===t?(0,r.jsxs)(r.Fragment,{children:["Contact your organization administrator(s) for more information or visit ",(0,r.jsx)("a",{href:"./iam/my-user-access",children:"My User Access"})," to learn more about your permissions."]}):t,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["description"]);return(0,r.jsx)(g,y({},a,{description:n}))}},24209:(e,t,n)=>{n.d(t,{A:()=>p});var r=n(74848),a=n(32485),o=n.n(a),i=n(93345);const s=n.n(i)().createContext("light");var l=n(69),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c.apply(this,arguments)};const p=function(e){var t=e.className,n=e.children,a=e.ouiaId,i=e.ouiaSafe,p=void 0===i||i,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["className","children","ouiaId","ouiaSafe"]),m=o()(t,"pf-v5-l-page-header","pf-v5-c-page-header","pf-v5-l-page__main-section","pf-v5-c-page__main-section"),d="RHI/Header",g=(0,l.useOUIAId)(d,a,p);return(0,r.jsx)(s.Consumer,{children:function(e){var t,a;void 0===e&&(e="light");var i=o()(((t={})["pf-m-".concat(e,"-200")]="dark"===e,t),((a={})["pf-m-light"]="light"===e,a));return(0,r.jsx)("section",c({"data-ouia-component-type":d,"data-ouia-component-id":g,"data-ouia-safe":p},u,{className:"".concat(m," ").concat(i),"widget-type":"InsightsPageHeader",children:n}))}})}},16401:(e,t,n)=>{n.d(t,{A:()=>p});var r=n(74848),a=n(32485),o=n.n(a),i=n(63068),s=n(69),l=n(86228),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c.apply(this,arguments)};const p=function(e){var t=e.className,n=e.title,a=e.actionsContent,p=e.ouiaId,u=e.ouiaSafe,m=void 0===u||u,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["className","title","actionsContent","ouiaId","ouiaSafe"]),g=o()(t),y="RHI/Header",f=(0,s.useOUIAId)(y,p,m);return(0,r.jsxs)(l.Flex,{justifyContent:{default:"justifyContentSpaceBetween"},children:[(0,r.jsx)(l.FlexItem,{children:(0,r.jsx)(i.Title,c({headingLevel:"h1",size:"2xl",className:g,"widget-type":"InsightsPageHeaderTitle","data-ouia-component-type":y,"data-ouia-component-id":f,"data-ouia-safe":m},d,{children:n}))}),a?(0,r.jsx)(l.FlexItem,{children:a}):null]})}},49549:(e,t,n)=>{n.d(t,{V:()=>c});var r=n(93345),a=n.n(r),o=n(41901),i=n(65769),s=n(37560),l=n(7769);const c=()=>a().createElement(r.Suspense,{fallback:a().createElement(o.Bullseye,null,a().createElement(i.Spinner,null))},a().createElement(s.A,{appId:"ros_zero_state",appName:"dashboard",module:"./AppZeroState",scope:"dashboard",ErrorComponent:a().createElement(l.A,null),app:"Resource_Optimization"}))},70978:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var r=n(93345),a=n.n(r),o=n(55740),i=n(20881),s=n(36683),l=n(7769),c=n(65769),p=n(41901),u=n(81538),m=n(24209),d=n(16401),g=n(48900),y=n(49549),f=n(41526),h=n(53781),E=n(19461),v=n(96184),S=n.n(v);function O(){return a().createElement(E.EmptyState,{variant:E.EmptyStateVariant.lg},a().createElement(E.EmptyStateHeader,{titleText:"No suggested instance types found",icon:a().createElement(E.EmptyStateIcon,{icon:S(),color:"green"}),headingLevel:"h5"}),a().createElement(E.EmptyStateBody,null,"All the systems that are sending data are optimized. Visit getting started documentation to add more systems to Resource Optimization to see more suggestions."),a().createElement(E.EmptyStateFooter,null,a().createElement(E.EmptyStateActions,null,a().createElement(h.Button,{component:"a",variant:"primary",href:u.Ar,target:"_blank"},"Getting started documentation"))))}var w=n(85736),b=n(36271),_=n(73683),j=n(15402),P=n(81900),A=n(68350),x=n(97192),I=n(32842),T=n(16477),C=n(87577),N=n(42158);function R(){const e=(0,g.wA)(),[t,n]=(0,r.useState)(u.KL),[o,i]=(0,r.useState)(u.EK),[s,m]=(0,r.useState)(3),[d,y]=(0,r.useState)("system_count"),[h,E]=(0,r.useState)(w.l.desc),[v,S]=(0,r.useState)(""),{loading:O,instances:R,count:L,serverError:k}=(0,g.d4)((e=>e.suggestedInstanceTypesReducer)),U=(e,t)=>n(t),F=(e,t)=>{i(t),n(u.KL)};return(0,r.useEffect)((()=>{e((0,f.iS)({page:t,perPage:o,activeSortDirection:h,activeSortColumnKey:d,instanceTypeName:v}))}),[t,o,h,d,v]),a().createElement(a().Fragment,null,a().createElement("section",{className:"pf-v5-l-page__main-section pf-v5-c-page__main-section"},a().createElement(T.Card,null,a().createElement(T.CardBody,null,a().createElement(N.A,{pagination:{itemCount:L,page:t,perPage:o,onSetPage:U,onPerPageSelect:F},filterConfig:{items:[{label:"instance types",type:"text",filterValues:{onChange:(e,t)=>S(t),value:v}}]},activeFiltersConfig:{deleteTitle:"Reset filters",filters:v.length?[{category:"Instance Types",chips:[{name:v}]}]:[],onDelete:()=>S("")}}),k.message?a().createElement(l.A,null):O?a().createElement(p.Bullseye,null,a().createElement(c.Spinner,null)):a().createElement(b.X,{"aria-label":"suggested instance types table",variant:_.a.compact},a().createElement(j.d,{noWrap:!0},a().createElement(P.Tr,null,u.I8.map(((e,t)=>{return e.isSortable?a().createElement(A.Th,{key:e.key,sort:(n=t,r=e.key,{sortBy:{index:s,direction:h},onSort:(e,t,n)=>{m(t),E(n),y(r)},columnIndex:n})},e.title):a().createElement(A.Th,{key:e.key},e.title);var n,r})))),a().createElement(x.N,null,R.map((e=>a().createElement(P.Tr,{key:e.instance_type},a().createElement(I.Td,null,e.instance_type),a().createElement(I.Td,null,e.cloud_provider),a().createElement(I.Td,null,e.description),a().createElement(I.Td,null,e.system_count)))))),a().createElement(C.Pagination,{itemCount:L,page:t,perPage:o,onSetPage:U,onPerPageSelect:F,variant:C.PaginationVariant.bottom,widgetId:"pagination-options-menu-bottom"})))))}const L=()=>{const e=(0,g.wA)(),{loading:t,showConfigSteps:n,systemWithSuggestions:o,serverError:i}=(0,g.d4)((e=>e.isConfiguredReducer)),s=0!==o;return(0,r.useEffect)((()=>{e((0,f.NI)())}),[]),n?a().createElement(y.V,null):a().createElement(a().Fragment,null,a().createElement(m.A,null,a().createElement(d.A,{title:"Suggested Instance Types"})),i.message?a().createElement(l.A,null):t?a().createElement(p.Bullseye,null,a().createElement(c.Spinner,null)):s?a().createElement(R,null):a().createElement(O,null))};function k(){const e=(0,r.useContext)(o.d).permissions.hasRead,{hideGlobalFilter:t,updateDocumentTitle:n}=(0,i.A)();return(0,r.useEffect)((()=>{n("Suggested Instance Types - Resource Optimization - Business "),t()}),[]),e?a().createElement(L,null):a().createElement(s.A,{serviceName:u.OX})}},13460:(e,t,n)=>{n.d(t,{BA:()=>u,DE:()=>s,c:()=>m,ne:()=>i,yj:()=>l,yz:()=>p,zu:()=>c});var r=n(85736),a=n(81538);function o(e){if(!e.ok)throw Error(e.statusText);return e}const i=()=>{let e=new URL(a.ZA+a.Vg,window.location.origin);return fetch(e).then(o).then((e=>e.json())).then((e=>e))},s=e=>{let t=new URL(a.ZA+a.jC+`/${e}`,window.location.origin);return fetch(t).then(o).then((e=>e.json())).then((e=>e))},l=(e,t={})=>{let n={limit:t.perPage,offset:(t.page-1)*t.perPage};t.description&&t.description.trim()&&(n={...n,description:t.description});let r=new URL(a.ZA+a.jC+`/${e}/suggestions`,window.location.origin);return r.search=new URLSearchParams(n).toString(),fetch(r).then((e=>{if(!e.ok&&404===e.status)return{hasError:!0};if(!e.ok)throw Error(e.statusText);return e.json()})).then((e=>e))},c=async e=>{const{perPage:t,orderBy:n,orderHow:o}=e||{};let i={order_by:{display_name:"display_name",groups:"group_name",os:"os","performance_utilization.cpu":"cpu","performance_utilization.memory":"memory","performance_utilization.max_io":"max_io",number_of_suggestions:"number_of_suggestions",state:"state",report_date:"report_date"}[n]||"report_date",order_how:o||r.l.desc,limit:t||-1,...e?.page&&{offset:(e.page-1)*e.perPage},...e?.filters?.hostnameOrId&&{display_name:e.filters.hostnameOrId}},s=new URL(a.ZA+a.jC,window.location.origin),l=new URLSearchParams(i);return e?.stateFilter?.forEach((e=>{l.append("state",e)})),e?.osFilter?.forEach((e=>{l.append("os",e)})),e?.groupFilter?.forEach((e=>{l.append("group_name",e)})),s.search=l.toString(),fetch(s).then((e=>{if(!e.ok)throw Error(e.statusText);return e})).then((e=>e.json()))},p=(e,t)=>{let n=new URL(`${a.ZA}${a.jC}/${e}/history`,window.location.origin),r=new URLSearchParams({limit:t});return n.search=r.toString(),fetch(n).then(o).then((e=>e.json())).then((e=>e))},u=async()=>{const e=new URL(a.X9,window.location.origin);return fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service:"ros",template:"executiveReport"})}).then(o).then((e=>e.blob()))},m=async e=>{const{page:t,perPage:n,activeSortColumnKey:r,activeSortDirection:i}=e||{};let s=new URL(a.ZA+a.XQ,window.location.origin),l={page:t,per_page:n,order_by:r,order_how:i,...e?.instanceTypeName&&{instance_type:e.instanceTypeName}},c=new URLSearchParams(l);return s.search=c.toString(),fetch(s).then(o).then((e=>e.json())).then((e=>e))}},41526:(e,t,n)=>{n.d(t,{NI:()=>i,RZ:()=>s,ds:()=>o,iS:()=>l,kZ:()=>a});var r=n(13460);const a=e=>({type:"LOAD_ROS_SYSTEM_INFO",payload:(0,r.DE)(e)}),o=(e,t)=>({type:"FETCH_SYSTEM_RECOMMENDATIONS_LIST",payload:(0,r.yj)(e,t)}),i=()=>({type:"LOAD_IS_CONFIGURED_INFO",payload:(0,r.ne)()}),s=e=>({type:"CHANGE_SYSTEM_COLUMNS",payload:e}),l=e=>({type:"LOAD_SUGGESTED_INSTANCE_TYPES",payload:(0,r.c)(e)})}}]);
//# sourceMappingURL=../sourcemaps/RosSuggestedInstance.4867b42929810f8d80d94ae6b96ebe08.js.map