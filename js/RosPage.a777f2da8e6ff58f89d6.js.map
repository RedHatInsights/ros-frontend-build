{"version":3,"sources":["webpack://ros-frontend/./src/Routes/RosPage/ros-page.scss","webpack://ros-frontend/./src/Routes/RosPage/RosPage.js","webpack://ros-frontend/./src/Routes/RosPage/ros-page.scss?cee4"],"names":["exports","___CSS_LOADER_API_IMPORT___","push","module","id","RosTable","asyncComponent","RosPage","props","state","page","perPage","window","insights","chrome","auth","getUser","this","fetchSystems","pagination","setState","totalSystems","systemsData","title","className","itemCount","onSetPage","_e","updatePagination","onPerPageSelect","isCompact","widgetId","loading","systems","variant","React","propTypes","PropTypes","withRouter","connect","systemsTableState","dispatch","params","systemsTableActions","update","hot","invalidate","oldLocals","accept","a","b","isNamedExport","p","isEqualLocals","dispose"],"mappings":"gGAEAA,EADkC,EAAQ,MAChCC,EAA4B,IAE9BC,KAAK,CAACC,EAAOC,GAAI,yGAA0G,KAEnID,EAAOH,QAAUA,G,oXCQjB,IAAMK,GAAWC,E,SAAAA,IAAe,kBAAM,4EAUhCC,E,sbAEF,WAAYC,GAAO,0BACf,cAAMA,IAEDC,MAAQ,CACTC,KAAM,EACNC,QAAS,IALE,E,4JAWTC,OAAOC,SAASC,OAAOC,KAAKC,U,OAClCC,KAAKT,MAAMU,aAAa,CAAER,KAAMO,KAAKR,MAAMC,KAAMC,QAASM,KAAKR,MAAME,U,oIAGxDQ,GACbF,KAAKG,SAASD,GACdF,KAAKT,MAAMU,aAAaC,K,+BAGnB,aACkCF,KAAKT,MAApCa,EADH,EACGA,aAAcC,EADjB,EACiBA,YADjB,EAEqBL,KAAKR,MAAvBC,EAFH,EAEGA,KAAMC,EAFT,EAESA,QAEd,OACI,kBAAC,aAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAiBY,MAAM,2BAE3B,kBAAC,IAAD,KACI,kBAAC,KAAD,CAAMC,UAAU,+BACZ,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAgBA,UAAU,sBAAsBL,WAAY,CACxDT,KAAwB,IAAjBW,EAAqB,EAAIX,EAChCC,UACAc,UAAYJ,GAA8B,EAC1CK,UAAW,SAACC,EAAIjB,GAAL,OAAc,EAAKkB,iBAAiB,CAAElB,OAAMC,QAAS,EAAKF,MAAME,WAC3EkB,gBAAiB,SAACF,EAAIhB,GAAL,OAAiB,EAAKiB,iBAAiB,CAAElB,KAAM,EAAGC,aACnEmB,WAAW,EACXC,SAAU,wBAGVd,KAAKT,MAAMwB,QAAqD,KAAzC,kBAAC3B,EAAD,CAAU4B,QAAYX,IACjD,kBAAC,IAAD,KACI,kBAAC,KAAD,CACIG,UAAYJ,GAA8B,EAC1CU,SAAS,wBACTrB,KAAwB,IAAjBW,EAAqB,EAAIX,EAChCC,QAAUA,EACVuB,QAAQ,SACRR,UAAW,SAACC,EAAIjB,GAAL,OAAc,EAAKkB,iBAAiB,CAAElB,OAAMC,QAAS,EAAKF,MAAME,WAC3EkB,gBAAiB,SAACF,EAAIhB,GAAL,OAAiB,EAAKiB,iBAAiB,CAAElB,KAAM,EAAGC,wB,GArDjFwB,eA8EtB5B,EAAQ6B,UAAY,CAChBJ,QAASK,SACTf,YAAae,UACbhB,aAAcgB,WACdnB,aAAcmB,UAGlB,SAAeC,iBAAWC,cArB1B,SAAyB9B,GACrB,MAAO,CACHuB,QAASvB,EAAM+B,kBAAkBnC,SAAS2B,QAC1CV,YAAab,EAAM+B,kBAAkBnC,SAASiB,YAC9CD,aAAcZ,EAAM+B,kBAAkBnC,SAASgB,iBAIvD,SAA4BoB,GACxB,MAAO,CACHvB,aAAc,eAACwB,EAAD,uDAAU,GAAV,OAAiBD,EAASE,iBAAiCD,QAWvDH,CAA6ChC,K,yECrGnEqC,EAAS,IAAI,IALH,CAEd,OAAiB,OACjB,WAAoB,IAMlB,IAAK,YAAkBzC,EAAO0C,IAAIC,WAAY,CAC5C,IA+BIC,EAAY,WAEhB5C,EAAO0C,IAAIG,OACT,OACA,eAnCkB,SAAuBC,EAAGC,EAAGC,GACnD,IAAKF,GAAKC,GAAKD,IAAMC,EACnB,OAAO,EAGT,IAAIE,EAEJ,IAAKA,KAAKH,EACR,GAKIA,EAAEG,KAAOF,EAAEE,GACb,OAAO,EAIX,IAAKA,KAAKF,EACR,IAKKD,EAAEG,GACL,OAAO,EAIX,OAAO,EAOIC,CAAcN,GADrB,YACgC,SAMxBA,EAAY,WAEZH,EAAO,MAPLzC,EAAO0C,IAAIC,gBAYzB3C,EAAO0C,IAAIS,SAAQ,WACjBV,OAIW","file":"js/RosPage.a777f2da8e6ff58f89d6.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ros .ros-primary-toolbar.ins-c-primary-toolbar .ins-c-primary-toolbar__pagination{margin-left:auto}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { PrimaryToolbar } from '@redhat-cloud-services/frontend-components/PrimaryToolbar';\nimport { TableToolbar } from '@redhat-cloud-services/frontend-components/TableToolbar';\nimport { PageHeader, PageHeaderTitle } from '@redhat-cloud-services/frontend-components/PageHeader';\nimport { Main } from '@redhat-cloud-services/frontend-components/Main';\nimport { Card, CardBody } from '@patternfly/react-core';\nimport './ros-page.scss';\nimport { systemsTableActions } from '../../Components/RosTable/redux';\nimport { Pagination } from '@patternfly/react-core';\n\nimport asyncComponent from '../../Utilities/asyncComponent';\nconst RosTable = asyncComponent(() => import('../../Components/RosTable/RosTable'));\n\n/**\n * A smart component that handles all the api calls and data needed by the dumb components.\n * Smart components are usually classes.\n *\n * https://reactjs.org/docs/components-and-props.html\n * https://medium.com/@thejasonfile/dumb-components-and-smart-components-e7b33a698d43\n */\n\nclass RosPage extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            page: 1,\n            perPage: 10\n        };\n\n    }\n\n    async componentDidMount() {\n        await window.insights.chrome.auth.getUser();\n        this.props.fetchSystems({ page: this.state.page, perPage: this.state.perPage });\n    }\n\n    updatePagination(pagination) {\n        this.setState(pagination);\n        this.props.fetchSystems(pagination);\n    }\n\n    render() {\n        const { totalSystems, systemsData  } = this.props;\n        const { page, perPage } = this.state;\n\n        return (\n            <React.Fragment>\n                <PageHeader>\n                    <PageHeaderTitle title='Resource Optimization'/>\n                </PageHeader>\n                <Main>\n                    <Card className='pf-t-light  pf-m-opaque-100'>\n                        <CardBody>\n                            <PrimaryToolbar className=\"ros-primary-toolbar\" pagination={{\n                                page: (totalSystems === 0 ? 0 : page),\n                                perPage,\n                                itemCount: (totalSystems ? totalSystems : 0),\n                                onSetPage: (_e, page) => this.updatePagination({ page, perPage: this.state.perPage }),\n                                onPerPageSelect: (_e, perPage) => this.updatePagination({ page: 1, perPage }),\n                                isCompact: true,\n                                widgetId: 'ros-pagination-top'\n                            }}\n                            />\n                            { (!this.props.loading) ? (<RosTable systems = { systemsData }/>) : null }\n                            <TableToolbar>\n                                <Pagination\n                                    itemCount={ totalSystems ? totalSystems : 0 }\n                                    widgetId='ros-pagination-bottom'\n                                    page={ totalSystems === 0 ? 0 : page }\n                                    perPage={ perPage }\n                                    variant='bottom'\n                                    onSetPage={(_e, page) => this.updatePagination({ page, perPage: this.state.perPage })}\n                                    onPerPageSelect={(_e, perPage) => this.updatePagination({ page: 1, perPage })}\n                                />\n                            </TableToolbar>\n                        </CardBody>\n                    </Card>\n                </Main>\n            </React.Fragment>\n        );\n    };\n};\n\nfunction mapStateToProps(state) {\n    return {\n        loading: state.systemsTableState.RosTable.loading,\n        systemsData: state.systemsTableState.RosTable.systemsData,\n        totalSystems: state.systemsTableState.RosTable.totalSystems\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        fetchSystems: (params = {}) => dispatch(systemsTableActions.fetchSystems(params))\n    };\n}\n\nRosPage.propTypes = {\n    loading: PropTypes.bool,\n    systemsData: PropTypes.array,\n    totalSystems: PropTypes.number,\n    fetchSystems: PropTypes.func\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(RosPage));\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./ros-page.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./ros-page.scss\",\n      function () {\n        if (!isEqualLocals(oldLocals, content.locals, undefined)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nexport default content.locals || {};"],"sourceRoot":""}