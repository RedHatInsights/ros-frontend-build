"use strict";(self.webpackChunkros_frontend=self.webpackChunkros_frontend||[]).push([[837],{3955:(e,t,n)=>{n.d(t,{v:()=>u});var r=n(45103),i=n(2112),o=n(43297),a=n.n(o),c=n(58061),u=function(){return a().createElement(r.Bullseye,null,a().createElement(r.EmptyState,{className:"empty-state-not-configured"},a().createElement(r.EmptyStateIcon,{icon:i.ZP}),a().createElement(r.Title,{headingLevel:"h5",size:"lg"},"Resource optimization isn't configured yet"),a().createElement(r.EmptyStateBody,null,a().createElement(r.Bullseye,null,a().createElement(r.Stack,{hasGutter:!0},a().createElement(r.StackItem,null,"Resource Optimization requires installing and configuring Performance Co-Pilot on the client system."),a().createElement(r.StackItem,null,"Check the documentation to find how to configure Resource Optimization with Ansible. An alternative method which does not require Ansible is also described."),a().createElement(r.StackItem,null,"After configuring Resource Optimization, it may take up to 24 hours until suggestions are available.")))),a().createElement(r.Button,{component:"a",href:c.wy,target:"_blank",variant:"primary"},"Getting started documentation")))}},88422:(e,t,n)=>{n.r(t),n.d(t,{isEmptyFilters:()=>M,constructActiveFilters:()=>N,onDeleteFilter:()=>B,default:()=>q});var r=n(87757),i=n.n(r),o=n(48926),a=n.n(o),c=n(34575),u=n.n(c),s=n(93913),l=n.n(s),p=n(81506),f=n.n(p),d=n(2205),h=n.n(d),v=n(78585),m=n.n(v),g=n(29754),y=n.n(g),w=n(59713),b=n.n(w),O=n(63038),S=n.n(O),P=n(43297),E=n.n(P),R=n(45697),k=n.n(R),j=n(2983),_=n(7887),C=n(65550),F=n(3955),x=n(94778),L=n(45103),D=n(23279),I=n.n(D);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=E().lazy((function(){return n.e(597).then(n.bind(n,57597))})),z={name:{label:"Name",value:""}},M=function(e){return Object.values(e).find((function(e){var t;return(null==e||null===(t=e.value)||void 0===t?void 0:t.length)>0||(null==e?void 0:e.length)>0}))},N=function(e){return Object.entries(e).map((function(e){var t=S()(e,2),n=t[0],r=t[1],i=(r=void 0===r?{}:r).label,o=r.value;return{category:i,chipKey:n,chips:(null==o?void 0:o.length)>0?Array.isArray(o)?o.map((function(e){return{name:e}})):[{name:o}]:[]}}))},B=function(e,t){var n,r,i,o=t[0];return T(T({},e),{},b()({},null==o?void 0:o.chipKey,T(T({},e[null==o?void 0:o.chipKey]||{}),{},{value:Array.isArray(null===(n=e[null==o?void 0:o.chipKey])||void 0===n?void 0:n.value)?null===(r=e[null==o?void 0:o.chipKey])||void 0===r||null===(i=r.value)||void 0===i?void 0:i.filter((function(e){var t;return!(null==o||null===(t=o.chips)||void 0===t?void 0:t.find((function(t){return t.name===e})))})):""})))},H=function(e){h()(d,e);var t,n,r,o,c,s,p=(c=d,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y()(c);if(s){var n=y()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)});function d(e){var t;return u()(this,d),(t=p.call(this,e)).state={page:1,perPage:10,inventoryId:e.inventoryId,activeFilters:z},t.debouncedThrottleHandleChange=I()(t.throttleHandleChange.bind(f()(t)),800),t}return l()(d,[{key:"componentDidMount",value:(o=a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.requestLoadSysRecs();case 2:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"throttleHandleChange",value:(r=a()(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.requestLoadSysRecs(t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"requestLoadSysRecs",value:(n=a()(i().mark((function e(){var t,n,r,o=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:{},r=T({page:this.state.page,perPage:this.state.perPage,description:null===(t=this.state)||void 0===t?void 0:t.descriptionFilter},n),e.next=4,this.props.loadSysRecs(this.state.inventoryId,r);case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"applyFilters",value:function(e){var t,n;this.setState({activeFilters:e,descriptionFilter:null==e||null===(t=e.name)||void 0===t?void 0:t.value,page:1}),this.debouncedThrottleHandleChange({description:null==e||null===(n=e.name)||void 0===n?void 0:n.value,page:1})}},{key:"updatePagination",value:(t=a()(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState(t),e.next=3,this.requestLoadSysRecs(t);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){var e,t,n=this,r=this.props,i=r.totalRecs,o=r.recsData,a=r.emptyState,c=this.state,u=c.page,s=c.perPage;return a?E().createElement(F.v,null):E().createElement(P.Suspense,{fallback:""},E().createElement(L.Stack,{hasGutter:!0},E().createElement(L.StackItem,null,E().createElement(L.Title,{headingLevel:"h3",size:"2xl"},"Suggestions")),E().createElement(L.StackItem,null,E().createElement(L.Card,null,E().createElement(L.CardBody,null,E().createElement(_.Z,{className:"ros-primary-toolbar",pagination:{page:0===i?0:u,perPage:s,itemCount:i||0,onSetPage:function(e,t){return n.updatePagination({page:t,perPage:n.state.perPage})},onPerPageSelect:function(e,t){return n.updatePagination({page:1,perPage:t})},isCompact:!0,widgetId:"ros-pagination-top"},filterConfig:{items:[{label:z.name.label,type:"text",filterValues:{key:"text-filter",onChange:function(e,t){var r,i=T(T({},n.state.activeFilters),{},{name:T(T({},(null===(r=n.state.activeFilters)||void 0===r?void 0:r.name)||{}),{},{value:t})});n.applyFilters(i)},value:(null===(e=this.state.activeFilters)||void 0===e||null===(t=e.name)||void 0===t?void 0:t.value)||"",placeholder:"Filter by name"}}]},activeFiltersConfig:{filters:M(this.state.activeFilters)?N(this.state.activeFilters):[],onDelete:function(e,t,r){if(r)n.applyFilters(z);else{var i=B(n.state.activeFilters,t);n.applyFilters(i)}}}}),this.props.loading?null:E().createElement(A,{recommendations:o}),E().createElement(C.Z,null,E().createElement(L.Pagination,{itemCount:i||0,widgetId:"ros-pagination-bottom",page:0===i?0:u,perPage:s,variant:"bottom",onSetPage:function(e,t){return n.updatePagination({page:t,perPage:n.state.perPage})},onPerPageSelect:function(e,t){return n.updatePagination({page:1,perPage:t})}})))))))}}]),d}(E().Component);H.propTypes={inventoryId:k().string,loading:k().bool,recsData:k().array,totalRecs:k().number,loadSysRecs:k().func,emptyState:k().bool};const q=(0,j.$j)((function(e,t){var n,r,i,o;return T({loading:null===(n=e.systemRecsReducer)||void 0===n?void 0:n.loading,recsData:null===(r=e.systemRecsReducer)||void 0===r?void 0:r.recommendationsData,totalRecs:null===(i=e.systemRecsReducer)||void 0===i?void 0:i.totalRecommendations,emptyState:null===(o=e.systemRecsReducer)||void 0===o?void 0:o.emptyState},t)}),(function(e){return{loadSysRecs:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e((0,x.t9)(t,n))}}}))(H)},30859:(e,t,n)=>{n.d(t,{jL:()=>h,S7:()=>v,x2:()=>m,lc:()=>g,tp:()=>y,Q5:()=>w});var r=n(87757),i=n.n(r),o=n(48926),a=n.n(o),c=n(59713),u=n.n(c),s=n(88587),l=n(58061);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){if(!e.ok)throw Error(e.statusText);return e}var h=function(){var e=new URL(l.RC+l.LO,window.location.origin);return window.insights.chrome.auth.getUser().then((function(){return fetch(e).then(d).then((function(e){return e.json()})).then((function(e){return e}))}))},v=function(e){var t=new URL(l.RC+l.M4+"/".concat(e),window.location.origin);return window.insights.chrome.auth.getUser().then((function(){return fetch(t).then(d).then((function(e){return e.json()})).then((function(e){return e}))}))},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={limit:t.perPage,offset:(t.page-1)*t.perPage};t.description&&t.description.trim()&&(n=f(f({},n),{},{description:t.description}));var r=new URL(l.RC+l.M4+"/".concat(e,"/suggestions"),window.location.origin);r.search=new URLSearchParams(n).toString();var i=window.insights.chrome.auth.getUser().then((function(){return fetch(r).then((function(e){if(!e.ok&&404===e.status)return{hasError:!0};if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){return e}))}));return i},g=function(){var e=a()(i().mark((function e(t){var n,r,o,a,c,u,p,d,h,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.insights.chrome.auth.getUser();case 2:return c=(a=t||{}).perPage,u=a.orderBy,p=a.orderHow,d=f(f({order_by:{display_name:"display_name",os:"os","performance_utilization.cpu":"cpu","performance_utilization.memory":"memory","performance_utilization.max_io":"max_io",number_of_suggestions:"number_of_suggestions",state:"state",report_date:"report_date"}[u]||"report_date",order_how:p||s.SortByDirection.desc,limit:c||-1},(null==t?void 0:t.page)&&{offset:(t.page-1)*t.perPage}),(null==t||null===(n=t.filters)||void 0===n?void 0:n.hostnameOrId)&&{display_name:t.filters.hostnameOrId}),h=new URL(l.RC+l.M4,window.location.origin),v=new URLSearchParams(d),null==t||null===(r=t.stateFilter)||void 0===r||r.forEach((function(e){v.append("state",e)})),null==t||null===(o=t.osFilter)||void 0===o||o.forEach((function(e){v.append("os",e)})),h.search=v.toString(),e.abrupt("return",fetch(h).then((function(e){if(!e.ok)throw Error(e.statusText);return e})).then((function(e){return e.json()})));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e,t){var n=new URL("".concat(l.RC).concat(l.M4,"/").concat(e,"/history"),window.location.origin),r=new URLSearchParams({limit:t});return n.search=r.toString(),window.insights.chrome.auth.getUser().then((function(){return fetch(n).then(d).then((function(e){return e.json()})).then((function(e){return e}))}))},w=function(){var e=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.insights.chrome.auth.getUser();case 2:return t=new URL("".concat(l.RC).concat(l.v2),window.location.origin),e.abrupt("return",fetch(t).then((function(e){if(!e.ok)throw Error(e.statusText);return e})).then((function(e){return e.json()})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},94778:(e,t,n)=>{n.d(t,{Of:()=>i,t9:()=>o,Pn:()=>a,zz:()=>c});var r=n(30859),i=function(e){return{type:"LOAD_ROS_SYSTEM_INFO",payload:(0,r.S7)(e)}},o=function(e,t){return{type:"FETCH_SYSTEM_RECOMMENDATIONS_LIST",payload:(0,r.x2)(e,t)}},a=function(){return{type:"LOAD_IS_CONFIGURED_INFO",payload:(0,r.jL)()}},c=function(e){return{type:"CHANGE_SYSTEM_COLUMNS",payload:e}}}}]);
//# sourceMappingURL=../sourcemaps/837.f43c62ca5a078a2ebaf797314480afe2.js.map