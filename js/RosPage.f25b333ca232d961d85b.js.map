{"version":3,"sources":["webpack:///./src/Routes/RosPage/ros-page.scss","webpack:///./src/Routes/RosPage/ros-page.scss?5e76","webpack:///./src/Routes/RosPage/RosPage.js","webpack:///./src/constants.js"],"names":["exports","___CSS_LOADER_API_IMPORT___","push","module","i","content","options","transform","undefined","update","locals","hot","accept","newContent","a","b","key","idx","Error","dispose","RosTable","asyncComponent","RosPage","props","state","systems","getSystemsForRos","bind","window","insights","chrome","auth","getUser","this","fetch","concat","then","res","ok","statusText","json","result","setState","results","error","console","log","Fragment","PageHeader","title","Main","Card","className","CardBody","React","Component","withRouter"],"mappings":"8EAEAA,EADkC,EAAQ,EAChCC,EAA4B,IAE9BC,KAAK,CAACC,EAAOC,EAAI,GAAI,KAE7BD,EAAOH,QAAUA,G,oBCLjB,IAAIK,EAAU,EAAQ,KAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAACF,EAAOC,EAAIC,EAAS,MAOhE,IAAIC,EAAU,CAAC,KAAM,EAErB,eAPIC,EAQJ,gBAAqBC,GAEjBC,EAAS,EAAQ,GAAR,CAAgEJ,EAASC,GAEnFD,EAAQK,SAAQP,EAAOH,QAAUK,EAAQK,QAG3CP,EAAOQ,IAAIC,OAAO,KAAgH,WACjI,IAAIC,EAAa,EAAQ,KAiBzB,GAfyB,iBAAfA,IAAyBA,EAAa,CAAC,CAACV,EAAOC,EAAIS,EAAY,OAE3D,SAASC,EAAGC,GACzB,IAAIC,EAAKC,EAAM,EAEf,IAAID,KAAOF,EAAG,CACb,IAAIC,GAAKD,EAAEE,KAASD,EAAEC,GAAM,OAAO,EACnCC,IAGD,IAAID,KAAOD,EAAGE,IAEd,OAAe,IAARA,EAVK,CAWXZ,EAAQK,OAAQG,EAAWH,QAEjB,MAAM,IAAIQ,MAAM,uDAE5BT,EAAOI,MAGRV,EAAOQ,IAAIQ,SAAQ,WAAaV,Q,6qBCnCjC,IAAMW,EAAWC,aAAe,kBAAM,qEAUhCC,E,kCAEF,WAAYC,GAAO,0BACf,cAAMA,IACDC,MAAQ,CAAEC,QAAS,IACxB,EAAKC,iBAAmB,EAAKA,iBAAiBC,KAAtB,QAHT,E,4JAOTC,OAAOC,SAASC,OAAOC,KAAKC,U,OAClCC,KAAKP,mB,sIAGU,WACfQ,MChCoB,ODgCDC,OAAO,aACzBC,MAAK,SAACC,GACH,IAAKA,EAAIC,GACL,MAAMpB,MAAMmB,EAAIE,YAGpB,OAAOF,EAAIG,UAEdJ,MACG,SAAAK,GACI,EAAKC,SAAS,CACVjB,QAASgB,EAAOE,aAX5B,OAcQ,SAACC,GAELC,QAAQC,IAAIF,Q,+BAIX,IACGnB,EAAYQ,KAAKT,MAAjBC,QAER,OACI,kBAAC,IAAMsB,SAAP,KACI,kBAACC,EAAA,WAAD,KACI,kBAACA,EAAA,gBAAD,CAAiBC,MAAM,2BAE3B,kBAACC,EAAA,KAAD,KACI,kBAACC,EAAA,KAAD,CAAMC,UAAU,+BACZ,kBAACC,EAAA,SAAD,KACI,6BACI,kBAACjC,EAAD,CAAUK,QAAWA,a,GA9C/B6B,IAAMC,WAwDbC,sBAAWlC","file":"js/RosPage.f25b333ca232d961d85b.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./ros-page.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./ros-page.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./ros-page.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Card, CardBody } from '@patternfly/react-core';\nimport { Main, PageHeader, PageHeaderTitle } from '@redhat-cloud-services/frontend-components';\nimport './ros-page.scss';\nimport { } from '@patternfly/react-core';\nimport { ROS_API_ROOT } from '../../constants';\nimport asyncComponent from '../../Utilities/asyncComponent';\nconst RosTable = asyncComponent(() => import('../../Components/RosTable/RosTable'));\n\n/**\n * A smart component that handles all the api calls and data needed by the dumb components.\n * Smart components are usually classes.\n *\n * https://reactjs.org/docs/components-and-props.html\n * https://medium.com/@thejasonfile/dumb-components-and-smart-components-e7b33a698d43\n */\n\nclass RosPage extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = { systems: [] };\n        this.getSystemsForRos = this.getSystemsForRos.bind(this);\n    }\n\n    async componentDidMount() {\n        await window.insights.chrome.auth.getUser();\n        this.getSystemsForRos();\n    }\n\n    getSystemsForRos() {\n        fetch(ROS_API_ROOT.concat('/systems'))\n        .then((res) => {\n            if (!res.ok) {\n                throw Error(res.statusText);\n            }\n\n            return res.json();\n        })\n        .then(\n            result => {\n                this.setState({\n                    systems: result.results\n                });\n            }\n        ).catch((error) => {\n            // Handle the error\n            console.log(error);\n        });\n    }\n\n    render() {\n        const { systems } = this.state;\n\n        return (\n            <React.Fragment>\n                <PageHeader>\n                    <PageHeaderTitle title='Resource Optimization'/>\n                </PageHeader>\n                <Main>\n                    <Card className='pf-t-light  pf-m-opaque-100'>\n                        <CardBody>\n                            <div>\n                                <RosTable systems = {systems}/>\n                            </div>\n                        </CardBody>\n                    </Card>\n                </Main>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withRouter(RosPage);\n","export const ROS_API_ROOT = '/api';\n"],"sourceRoot":""}