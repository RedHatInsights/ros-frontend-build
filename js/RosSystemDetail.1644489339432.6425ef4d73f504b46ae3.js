"use strict";(self.webpackChunkros_frontend=self.webpackChunkros_frontend||[]).push([[798],{24814:(e,t,n)=>{n.d(t,{v:()=>p});var r=n(1427),i=n.n(r),o=n(45697),a=n.n(o),s=n(20018),c=n(19017),l=n(53325),u=n(58061),p=function(e){var t=e.inventoryId,n=e.cloudProvider,r=e.instanceType,o=e.idlingTime,a=[{label:"Provider",value:null===n?u.t0:n},{label:"Instance type",value:null===r?u.t0:r},{label:"Idling time",value:null===o?u.t0:"".concat(o,"%")}];return i().createElement(s.D,{className:"expanded-row"},i().createElement(c.Gn,{id:t,component:c.F_.dl},a.map((function(e,t){return i().createElement(i().Fragment,{key:t},i().createElement(l.Ts,{component:l.v$.dt},e.label),i().createElement(l.Ts,{component:l.v$.dd},e.value))}))))};p.propTypes={inventoryId:a().string,cloudProvider:a().string,instanceType:a().string,idlingTime:a().string}},86503:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var r=n(63038),i=n.n(r),o=n(6479),a=n.n(o),s=n(67154),c=n.n(s),l=n(1427),u=n.n(l),p=n(45697),d=n.n(p),f=n(2983),m=n(9694),y=n(8896),v=n(67463),h=u().lazy((function(){return Promise.all([n.e(291),n.e(939),n.e(752),n.e(522),n.e(975),n.e(26),n.e(748),n.e(422)]).then(n.bind(n,88422))})),g=function(e){var t=(0,f.v9)((function(e){var t,n=e.entityDetails;return null==n||null===(t=n.entity)||void 0===t?void 0:t.id}));return u().createElement(l.Suspense,{fallback:""},u().createElement(h,c()({inventoryId:t},e)))},b=function(e){var t=e.getRegistry,n=a()(e,["getRegistry"]),r=(0,l.useState)(),o=i()(r,2),s=o[0],c=o[1];return(0,l.useEffect)((function(){var e,n;t&&(null===(e=t())||void 0===e||null===(n=e.register)||void 0===n||n.call(e,{systemRecsReducer:m.rj})),c((function(){return t?f.zt:l.Fragment}))}),[t]),s?u().createElement(s,t&&{store:t().getStore()},u().createElement(g,n)):u().createElement(y.b,null,u().createElement(v.Spinner,{size:"xl"}))};b.propTypes={getRegistry:d().func};const O=b},98593:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ie});var r=n(59713),i=n.n(r),o=n(87757),a=n.n(o),s=n(48926),c=n.n(s),l=n(34575),u=n.n(l),p=n(93913),d=n.n(p),f=n(2205),m=n.n(f),y=n(78585),v=n.n(y),h=n(29754),g=n.n(h),b=n(1427),O=n.n(b),E=n(45697),w=n.n(E),P=n(16530),_=n(2983),j=n(49287),I=n(18038),S=n(85991),R=n(49489),D=n(86350),T=n(48716),k=n(38775),N=n(53895),z=n(33902),C=n(30319),U=n(53704),x=n(18546),L=n(86503);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z={loaded:!1},A=function(e){return M(M({},e),{},{loaded:!0,activeApps:[{title:"Resource optimization",name:"resource optimization",component:L.default}]})},W=n(24814),Y=n(63038),B=n.n(Y),G=n(6202),V=n(11239),$=n(49580),H=n(61088),Q=n(90502),J=n(58061),q=function(e){var t=e.system,n=(0,b.useState)(t.rating),r=B()(n,2),i=r[0],o=r[1],s=(0,b.useState)(!1),l=B()(s,2),u=l[0],p=l[1],d=function(){var e=c()(a().mark((function e(n){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i===n?J.nV:n,e.prev=1,s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inventory_id:t.inventoryId,rating:r})},e.next=5,fetch("".concat(J.RC).concat(J.Up),s);case 5:o(r),p(!0),setTimeout((function(){return p(!1)}),3e3),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return O().createElement("span",{className:"ratingSpanOverride"},"Is this suggestion helpful?",O().createElement(G.Button,{variant:"plain","aria-label":"thumbs-up",onClick:function(){return d(J.xP)},ouiaId:"thumbsUp"},i===J.xP?O().createElement(H.ZP,{className:"like",size:"sm"}):O().createElement(V.ZP,{size:"sm"})),O().createElement(G.Button,{variant:"plain","aria-label":"thumbs-down",onClick:function(){return d(J.RM)},ouiaId:"thumbsDown"},i===J.RM?O().createElement(Q.ZP,{className:"dislike",size:"sm"}):O().createElement($.ZP,{size:"sm"})),u&&"Thank you for your feedback!")};q.propTypes={system:w().object};const K=q;var X=n(40594),ee=n(87999);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(e){m()(s,e);var t,n,r,o=(n=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g()(n);if(r){var i=g()(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return v()(this,e)});function s(e){var t;return u()(this,s),(t=o.call(this,e)).state={inventoryId:t.props.match.params.inventoryId},t}return d()(s,[{key:"componentDidMount",value:(t=c()(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=insights.chrome)||void 0===t||null===(n=t.hideGlobalFilter)||void 0===n||n.call(t,!0),insights.chrome.appAction("system-detail"),e.next=4,this.props.loadSystemInfo(this.state.inventoryId);case 4:document.title=this.props.rosSystemInfo.display_name;case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"renderChildrenNode",value:function(){if(this.props.rosSystemInfo){var e=this.props.rosSystemInfo,t=e.cloud_provider,n=e.instance_type,r=e.idling_time,i=e.rating,o=this.props.match.params.inventoryId;return O().createElement(j.r,{className:"ros-system-info"},O().createElement(I.P,null,O().createElement(W.v,{cloudProvider:t,instanceType:n,idlingTime:r,inventoryId:o})),O().createElement(I.P,null,O().createElement(K,{system:ne({},{rating:i,inventoryId:o})})))}return null}},{key:"render",value:function(){var e=this,t=this.props.entity;return O().createElement(O().Fragment,null,O().createElement(ee.B.Consumer,null,(function(n){return!1===n.permissions.systemsRead?O().createElement(X.Z,{serviceName:"Resource Optimization"}):O().createElement(k.Z,{onLoad:function(e){var t=e.mergeWithDetail,n=e.INVENTORY_ACTION_TYPES;(0,C.z2)(t(function(e){var t=e.LOAD_ENTITY_FULFILLED;return(0,x.Gg)(i()({},t,A),Z)}(n)))},className:"rosDetailWrapper"},O().createElement(T.Z,null,O().createElement(S.a,{ouiaId:"system-detail"},O().createElement(R.g,null,O().createElement(P.Link,{to:"/"},"Resource Optimization")),O().createElement(R.g,{isActive:!0},O().createElement("div",{className:"ins-c-inventory__detail--breadcrumb-name"},t?t.display_name:null))),O().createElement(N.Z,{hideBack:!0,showDelete:!1,hideInvDrawer:!0}),e.renderChildrenNode()),O().createElement(D.Z,null,O().createElement(j.r,{gutter:"md"},O().createElement(I.P,{span:12},O().createElement(z.Z,{showTags:!0,fallback:""})))))})))}}]),s}(O().Component);re.propTypes={match:w().any,entity:w().object,loading:w().bool,rosSystemInfo:w().object,loadSystemInfo:w().func};const ie=(0,P.withRouter)((0,_.$j)((function(e,t){var n,r;return ne({entity:e.entityDetails&&e.entityDetails.entity,loading:null===(n=e.systemDetailReducer)||void 0===n?void 0:n.loading,rosSystemInfo:null===(r=e.systemDetailReducer)||void 0===r?void 0:r.systemInfo},t)}),(function(e){return{loadSystemInfo:function(t){return e((0,U.Of)(t))}}}))(re))},58061:(e,t,n)=>{n.d(t,{RC:()=>r,LO:()=>i,M4:()=>o,Up:()=>a,RM:()=>s,nV:()=>c,xP:()=>l,QR:()=>u,t0:()=>p,wy:()=>d,N7:()=>f,Q0:()=>m,H7:()=>y});var r="/api/ros/v1",i="/is_configured",o="/systems",a="/rating",s=-1,c=0,l=1,u="Waiting for data",p="N/A",d="https://access.redhat.com/documentation/en-us/red_hat_insights/2022/html/assessing_and_monitoring_rhel_resource_optimization_with_insights_for_red_hat_enterprise_linux/proc-ros-install_ros-getting-started",f={state:{label:"State",type:"checkbox",filterValues:{items:[{label:"Idling",value:"Idling"},{label:"Optimized",value:"Optimized"},{label:"Oversized",value:"Oversized"},{label:"Under pressure",value:"Under pressure"},{label:"Undersized",value:"Undersized"},{label:"Waiting for data",value:"Waiting for data"}]}}},m="with_suggestions",y="with_waiting_for_data"},53704:(e,t,n)=>{n.d(t,{Pn:()=>f,t9:()=>d,Of:()=>p});var r=n(59713),i=n.n(r),o=n(58061);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){if(!e.ok)throw Error(e.statusText);return e}var l=function(e){var t=new URL(o.RC+o.M4+"/".concat(e),window.location.origin);return window.insights.chrome.auth.getUser().then((function(){return fetch(t).then(c).then((function(e){return e.json()})).then((function(e){return e}))}))},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={limit:t.perPage,offset:(t.page-1)*t.perPage};t.description&&t.description.trim()&&(n=s(s({},n),{},{description:t.description}));var r=new URL(o.RC+o.M4+"/".concat(e,"/suggestions"),window.location.origin);r.search=new URLSearchParams(n).toString();var i=window.insights.chrome.auth.getUser().then((function(){return fetch(r).then((function(e){if(!e.ok&&404===e.status)return{hasError:!0};if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){return e}))}));return i},p=function(e){return{type:"LOAD_ROS_SYSTEM_INFO",payload:l(e)}},d=function(e,t){return{type:"FETCH_SYSTEM_RECOMMENDATIONS_LIST",payload:u(e,t)}},f=function(){return{type:"LOAD_IS_CONFIGURED_INFO",payload:(e=new URL(o.RC+o.LO,window.location.origin),window.insights.chrome.auth.getUser().then((function(){return fetch(e).then(c).then((function(e){return e.json()})).then((function(e){return e}))})))};var e}}}]);
//# sourceMappingURL=../sourcemaps/RosSystemDetail.4781002aebcde00abca1934b8ab05bd1.js.map