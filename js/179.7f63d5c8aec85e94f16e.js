(self.webpackChunkros_frontend=self.webpackChunkros_frontend||[]).push([[179],{22179:(e,t,n)=>{"use strict";n.r(t),n.d(t,{constructActiveFilters:()=>Y,default:()=>te,isEmptyFilters:()=>X,onDeleteFilter:()=>$});var r=n(87757),a=n.n(r),o=n(48926),l=n.n(o),i=n(34575),s=n.n(i),c=n(93913),u=n.n(c),p=n(81506),d=n.n(p),v=n(2205),f=n.n(v),m=n(78585),y=n.n(m),h=n(29754),g=n.n(h),b=n(59713),P=n.n(b),E=n(63038),R=n.n(E),k=n(1427),w=n.n(k),S=n(45697),F=n.n(S),O=n(80962),x=n(57277),D=n(32875),C=n(8896),_=n(219),j=n(74183),A=n(86728),I=n(34348),K=n(81159),L=n(34023),q=n(91491),H=n(6202),T=n(2112),z=(n(29057),function(){return w().createElement(C.b,null,w().createElement(_.ub,{className:"empty-state-not-configured"},w().createElement(A.k,{icon:T.ZP}),w().createElement(I.Dx,{headingLevel:"h5",size:"lg"},"Resource optimization isn't configured yet"),w().createElement(j.B,null,w().createElement(C.b,null,w().createElement(K.K,{hasGutter:!0},w().createElement(L.v,null,"To start configuration, follow these steps."),w().createElement(L.v,null,"1. Prerequisites: insights-client, ansible (Read FAQ if you don't know how to install it)."),w().createElement(L.v,null,"2. Download and run playbook."),w().createElement(L.v,null,w().createElement(q.M5,null,"curl -O https://raw.githubusercontent.com/RedHatInsights/ros-backend/main/ansible-playbooks/ros_install_and_set_up.yml")),w().createElement(L.v,null,"Append localhost to /etc/ansible/hosts"),w().createElement(L.v,null,w().createElement(q.M5,null,"ansible-playbook -c local ros_install_and_set_up.yml")),w().createElement(L.v,null,"3. Wait ",w().createElement("strong",null,"24 hours")," for your upload to complete. At completion, metrics from the previous day will be provided.")))),w().createElement(H.Button,{component:"a",href:"https://access.redhat.com/articles/6245921",target:"_blank",variant:"primary"},"Getting started documentation")))}),Z=n(53704),B=n(2095),G=n(85962),M=n(13877),N=n(23279),Q=n.n(N);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=w().lazy((function(){return Promise.all([n.e(410),n.e(252),n.e(654),n.e(208)]).then(n.bind(n,66208))})),U={name:{label:"Name",value:""}},X=function(e){return Object.values(e).find((function(e){var t;return(null==e||null===(t=e.value)||void 0===t?void 0:t.length)>0||(null==e?void 0:e.length)>0}))},Y=function(e){return Object.entries(e).map((function(e){var t=R()(e,2),n=t[0],r=t[1],a=(r=void 0===r?{}:r).label,o=r.value;return{category:a,chipKey:n,chips:(null==o?void 0:o.length)>0?Array.isArray(o)?o.map((function(e){return{name:e}})):[{name:o}]:[]}}))},$=function(e,t){var n,r,a,o=t[0];return W(W({},e),{},P()({},null==o?void 0:o.chipKey,W(W({},e[null==o?void 0:o.chipKey]||{}),{},{value:Array.isArray(null===(n=e[null==o?void 0:o.chipKey])||void 0===n?void 0:n.value)?null===(r=e[null==o?void 0:o.chipKey])||void 0===r||null===(a=r.value)||void 0===a?void 0:a.filter((function(e){var t;return!(null==o||null===(t=o.chips)||void 0===t?void 0:t.find((function(t){return t.name===e})))})):""})))},ee=function(e){f()(v,e);var t,n,r,o,i,c,p=(i=v,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g()(i);if(c){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y()(this,e)});function v(e){var t;return s()(this,v),(t=p.call(this,e)).state={page:1,perPage:10,inventoryId:e.inventoryId,activeFilters:U},t.debouncedThrottleHandleChange=Q()(t.throttleHandleChange.bind(d()(t)),800),t}return u()(v,[{key:"componentDidMount",value:(o=l()(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.requestLoadSysRecs();case 2:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"throttleHandleChange",value:(r=l()(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.requestLoadSysRecs(t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"requestLoadSysRecs",value:(n=l()(a().mark((function e(){var t,n,r,o=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:{},r=W({page:this.state.page,perPage:this.state.perPage,description:null===(t=this.state)||void 0===t?void 0:t.descriptionFilter},n),e.next=4,this.props.loadSysRecs(this.state.inventoryId,r);case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"applyFilters",value:function(e){var t,n;this.setState({activeFilters:e,descriptionFilter:null==e||null===(t=e.name)||void 0===t?void 0:t.value,page:1}),this.debouncedThrottleHandleChange({description:null==e||null===(n=e.name)||void 0===n?void 0:n.value,page:1})}},{key:"updatePagination",value:(t=l()(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState(t),e.next=3,this.requestLoadSysRecs(t);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){var e,t,n=this,r=this.props,a=r.totalRecs,o=r.recsData,l=r.emptyState,i=this.state,s=i.page,c=i.perPage;return l?w().createElement(z,null):w().createElement(k.Suspense,{fallback:""},w().createElement(K.K,{hasGutter:!0},w().createElement(L.v,null,w().createElement(I.Dx,{headingLevel:"h3",size:"2xl"},"Recommendations")),w().createElement(L.v,null,w().createElement(B.Zb,null,w().createElement(G.e,null,w().createElement(x.Z,{className:"ros-primary-toolbar",pagination:{page:0===a?0:s,perPage:c,itemCount:a||0,onSetPage:function(e,t){return n.updatePagination({page:t,perPage:n.state.perPage})},onPerPageSelect:function(e,t){return n.updatePagination({page:1,perPage:t})},isCompact:!0,widgetId:"ros-pagination-top"},filterConfig:{items:[{label:U.name.label,type:"text",filterValues:{key:"text-filter",onChange:function(e,t){var r,a=W(W({},n.state.activeFilters),{},{name:W(W({},(null===(r=n.state.activeFilters)||void 0===r?void 0:r.name)||{}),{},{value:t})});n.applyFilters(a)},value:(null===(e=this.state.activeFilters)||void 0===e||null===(t=e.name)||void 0===t?void 0:t.value)||"",placeholder:"Filter by name"}}]},activeFiltersConfig:{filters:X(this.state.activeFilters)?Y(this.state.activeFilters):[],onDelete:function(e,t,r){if(r)n.applyFilters(U);else{var a=$(n.state.activeFilters,t);n.applyFilters(a)}}}}),this.props.loading?null:w().createElement(J,{recommendations:o}),w().createElement(D.Z,null,w().createElement(M.tl,{itemCount:a||0,widgetId:"ros-pagination-bottom",page:0===a?0:s,perPage:c,variant:"bottom",onSetPage:function(e,t){return n.updatePagination({page:t,perPage:n.state.perPage})},onPerPageSelect:function(e,t){return n.updatePagination({page:1,perPage:t})}})))))))}}]),v}(w().Component);ee.propTypes={inventoryId:F().string,loading:F().bool,recsData:F().array,totalRecs:F().number,loadSysRecs:F().func,emptyState:F().bool};const te=(0,O.connect)((function(e,t){var n,r,a,o;return W({loading:null===(n=e.systemRecsReducer)||void 0===n?void 0:n.loading,recsData:null===(r=e.systemRecsReducer)||void 0===r?void 0:r.recommendationsData,totalRecs:null===(a=e.systemRecsReducer)||void 0===a?void 0:a.totalRecommendations,emptyState:null===(o=e.systemRecsReducer)||void 0===o?void 0:o.emptyState},t)}),(function(e){return{loadSysRecs:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e((0,Z.t)(t,n))}}}))(ee)},59014:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".ros .empty-state-not-configured,.inventory .empty-state-not-configured{--pf-c-empty-state--PaddingTop: var(--pf-global--spacer--2xl)}.ros .empty-state-not-configured .pf-c-form-control[readonly],.inventory .empty-state-not-configured .pf-c-form-control[readonly]{background-color:var(--pf-global--BackgroundColor--100)}.ros .empty-state-not-configured .pf-c-empty-state__body,.inventory .empty-state-not-configured .pf-c-empty-state__body{color:var(--pf-global--Color--300)}",""]),e.exports=t},29057:(e,t,n)=>{"use strict";var r=n(93379),a=n.n(r),o=n(59014),l=n.n(o),i=a()(l(),{insert:"head",singleton:!1});if(!l().locals||e.hot.invalidate){var s=l().locals;e.hot.accept(59014,(t=>{o=n(59014),function(e,t,n){if(!e&&t||e&&!t)return!1;var r;for(r in e)if(e[r]!==t[r])return!1;for(r in t)if(!e[r])return!1;return!0}(s,(l=n.n(o))().locals)?(s=l().locals,i(l())):e.hot.invalidate()}))}e.hot.dispose((function(){i()})),l().locals}}]);
//# sourceMappingURL=../sourcemaps/179.bfcfa545b742603438d9.js.map