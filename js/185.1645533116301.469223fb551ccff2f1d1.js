(self.webpackChunkros_frontend=self.webpackChunkros_frontend||[]).push([[185],{3955:(e,t,n)=>{"use strict";n.d(t,{v:()=>h});var r=n(8896),i=n(219),a=n(74183),o=n(86728),s=n(34348),l=n(81159),u=n(34023),c=n(6202),p=n(2112),d=n(1427),f=n.n(d),v=n(58061),h=function(){return f().createElement(r.b,null,f().createElement(i.ub,{className:"empty-state-not-configured"},f().createElement(o.k,{icon:p.ZP}),f().createElement(s.Dx,{headingLevel:"h5",size:"lg"},"Resource optimization isn't configured yet"),f().createElement(a.B,null,f().createElement(r.b,null,f().createElement(l.K,{hasGutter:!0},f().createElement(u.v,null,"Resource Optimization requires installing and configuring Performance Co-Pilot on the client system."),f().createElement(u.v,null,"Check the documentation to find how to configure Resource Optimization with Ansible. An alternative method which does not require Ansible is also described."),f().createElement(u.v,null,"After configuring Resource Optimization, it may take up to 24 hours until suggestions are available.")))),f().createElement(c.Button,{component:"a",href:v.wy,target:"_blank",variant:"primary"},"Getting started documentation")))}},88422:(e,t,n)=>{"use strict";n.r(t),n.d(t,{isEmptyFilters:()=>G,constructActiveFilters:()=>Z,onDeleteFilter:()=>V,default:()=>B});var r=n(87757),i=n.n(r),a=n(48926),o=n.n(a),s=n(34575),l=n.n(s),u=n(93913),c=n.n(u),p=n(81506),d=n.n(p),f=n(2205),v=n.n(f),h=n(78585),g=n.n(h),m=n(29754),y=n.n(m),b=n(59713),O=n.n(b),w=n(63038),P=n.n(w),R=n(1427),E=n.n(R),S=n(45697),_=n.n(S),j=n(2983),k=n(94107),D=n(32875),F=n(3955),C=n(53704),x=n(2095),L=n(85962),z=n(34348),I=n(81159),A=n(34023),U=n(13877),N=n(23279),T=n.n(N);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=E().lazy((function(){return Promise.all([n.e(487),n.e(465)]).then(n.bind(n,96465))})),H={name:{label:"Name",value:""}},G=function(e){return Object.values(e).find((function(e){var t;return(null==e||null===(t=e.value)||void 0===t?void 0:t.length)>0||(null==e?void 0:e.length)>0}))},Z=function(e){return Object.entries(e).map((function(e){var t=P()(e,2),n=t[0],r=t[1],i=(r=void 0===r?{}:r).label,a=r.value;return{category:i,chipKey:n,chips:(null==a?void 0:a.length)>0?Array.isArray(a)?a.map((function(e){return{name:e}})):[{name:a}]:[]}}))},V=function(e,t){var n,r,i,a=t[0];return K(K({},e),{},O()({},null==a?void 0:a.chipKey,K(K({},e[null==a?void 0:a.chipKey]||{}),{},{value:Array.isArray(null===(n=e[null==a?void 0:a.chipKey])||void 0===n?void 0:n.value)?null===(r=e[null==a?void 0:a.chipKey])||void 0===r||null===(i=r.value)||void 0===i?void 0:i.filter((function(e){var t;return!(null==a||null===(t=a.chips)||void 0===t?void 0:t.find((function(t){return t.name===e})))})):""})))},W=function(e){v()(f,e);var t,n,r,a,s,u,p=(s=f,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y()(s);if(u){var n=y()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g()(this,e)});function f(e){var t;return l()(this,f),(t=p.call(this,e)).state={page:1,perPage:10,inventoryId:e.inventoryId,activeFilters:H},t.debouncedThrottleHandleChange=T()(t.throttleHandleChange.bind(d()(t)),800),t}return c()(f,[{key:"componentDidMount",value:(a=o()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.requestLoadSysRecs();case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"throttleHandleChange",value:(r=o()(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.requestLoadSysRecs(t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"requestLoadSysRecs",value:(n=o()(i().mark((function e(){var t,n,r,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:{},r=K({page:this.state.page,perPage:this.state.perPage,description:null===(t=this.state)||void 0===t?void 0:t.descriptionFilter},n),e.next=4,this.props.loadSysRecs(this.state.inventoryId,r);case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"applyFilters",value:function(e){var t,n;this.setState({activeFilters:e,descriptionFilter:null==e||null===(t=e.name)||void 0===t?void 0:t.value,page:1}),this.debouncedThrottleHandleChange({description:null==e||null===(n=e.name)||void 0===n?void 0:n.value,page:1})}},{key:"updatePagination",value:(t=o()(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState(t),e.next=3,this.requestLoadSysRecs(t);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){var e,t,n=this,r=this.props,i=r.totalRecs,a=r.recsData,o=r.emptyState,s=this.state,l=s.page,u=s.perPage;return o?E().createElement(F.v,null):E().createElement(R.Suspense,{fallback:""},E().createElement(I.K,{hasGutter:!0},E().createElement(A.v,null,E().createElement(z.Dx,{headingLevel:"h3",size:"2xl"},"Suggestions")),E().createElement(A.v,null,E().createElement(x.Zb,null,E().createElement(L.e,null,E().createElement(k.Z,{className:"ros-primary-toolbar",pagination:{page:0===i?0:l,perPage:u,itemCount:i||0,onSetPage:function(e,t){return n.updatePagination({page:t,perPage:n.state.perPage})},onPerPageSelect:function(e,t){return n.updatePagination({page:1,perPage:t})},isCompact:!0,widgetId:"ros-pagination-top"},filterConfig:{items:[{label:H.name.label,type:"text",filterValues:{key:"text-filter",onChange:function(e,t){var r,i=K(K({},n.state.activeFilters),{},{name:K(K({},(null===(r=n.state.activeFilters)||void 0===r?void 0:r.name)||{}),{},{value:t})});n.applyFilters(i)},value:(null===(e=this.state.activeFilters)||void 0===e||null===(t=e.name)||void 0===t?void 0:t.value)||"",placeholder:"Filter by name"}}]},activeFiltersConfig:{filters:G(this.state.activeFilters)?Z(this.state.activeFilters):[],onDelete:function(e,t,r){if(r)n.applyFilters(H);else{var i=V(n.state.activeFilters,t);n.applyFilters(i)}}}}),this.props.loading?null:E().createElement(q,{recommendations:a}),E().createElement(D.Z,null,E().createElement(U.tl,{itemCount:i||0,widgetId:"ros-pagination-bottom",page:0===i?0:l,perPage:u,variant:"bottom",onSetPage:function(e,t){return n.updatePagination({page:t,perPage:n.state.perPage})},onPerPageSelect:function(e,t){return n.updatePagination({page:1,perPage:t})}})))))))}}]),f}(E().Component);W.propTypes={inventoryId:_().string,loading:_().bool,recsData:_().array,totalRecs:_().number,loadSysRecs:_().func,emptyState:_().bool};const B=(0,j.$j)((function(e,t){var n,r,i,a;return K({loading:null===(n=e.systemRecsReducer)||void 0===n?void 0:n.loading,recsData:null===(r=e.systemRecsReducer)||void 0===r?void 0:r.recommendationsData,totalRecs:null===(i=e.systemRecsReducer)||void 0===i?void 0:i.totalRecommendations,emptyState:null===(a=e.systemRecsReducer)||void 0===a?void 0:a.emptyState},t)}),(function(e){return{loadSysRecs:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e((0,C.t9)(t,n))}}}))(W)},58061:(e,t,n)=>{"use strict";n.d(t,{RC:()=>r,LO:()=>i,M4:()=>a,Up:()=>o,RM:()=>s,nV:()=>l,xP:()=>u,QR:()=>c,t0:()=>p,wy:()=>d,N7:()=>f,Q0:()=>v,H7:()=>h});var r="/api/ros/v1",i="/is_configured",a="/systems",o="/rating",s=-1,l=0,u=1,c="Waiting for data",p="N/A",d="https://access.redhat.com/documentation/en-us/red_hat_insights/2022/html/assessing_and_monitoring_rhel_resource_optimization_with_insights_for_red_hat_enterprise_linux/proc-ros-install_ros-getting-started",f={state:{label:"State",type:"checkbox",filterValues:{items:[{label:"Idling",value:"Idling"},{label:"Optimized",value:"Optimized"},{label:"Oversized",value:"Oversized"},{label:"Under pressure",value:"Under pressure"},{label:"Undersized",value:"Undersized"},{label:"Waiting for data",value:"Waiting for data"}]}}},v="with_suggestions",h="with_waiting_for_data"},53704:(e,t,n)=>{"use strict";n.d(t,{Pn:()=>f,t9:()=>d,Of:()=>p});var r=n(59713),i=n.n(r),a=n(58061);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){if(!e.ok)throw Error(e.statusText);return e}var u=function(e){var t=new URL(a.RC+a.M4+"/".concat(e),window.location.origin);return window.insights.chrome.auth.getUser().then((function(){return fetch(t).then(l).then((function(e){return e.json()})).then((function(e){return e}))}))},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={limit:t.perPage,offset:(t.page-1)*t.perPage};t.description&&t.description.trim()&&(n=s(s({},n),{},{description:t.description}));var r=new URL(a.RC+a.M4+"/".concat(e,"/suggestions"),window.location.origin);r.search=new URLSearchParams(n).toString();var i=window.insights.chrome.auth.getUser().then((function(){return fetch(r).then((function(e){if(!e.ok&&404===e.status)return{hasError:!0};if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){return e}))}));return i},p=function(e){return{type:"LOAD_ROS_SYSTEM_INFO",payload:u(e)}},d=function(e,t){return{type:"FETCH_SYSTEM_RECOMMENDATIONS_LIST",payload:c(e,t)}},f=function(){return{type:"LOAD_IS_CONFIGURED_INFO",payload:(e=new URL(a.RC+a.LO,window.location.origin),window.insights.chrome.auth.getUser().then((function(){return fetch(e).then(l).then((function(e){return e.json()})).then((function(e){return e}))})))};var e}},45467:()=>{},65088:()=>{},11452:()=>{},34946:()=>{},80598:()=>{},32857:()=>{},93818:()=>{},94498:()=>{},28992:()=>{},80897:()=>{},30187:()=>{},81320:()=>{},90479:()=>{},78752:()=>{},8572:()=>{},98379:()=>{},93398:()=>{},92084:()=>{},46928:()=>{},99624:()=>{},36974:()=>{},314:()=>{},97236:()=>{},49854:()=>{},16166:()=>{},53519:()=>{}}]);
//# sourceMappingURL=../sourcemaps/185.727eb19e8362d47c8b3efbe39cbdcb87.js.map