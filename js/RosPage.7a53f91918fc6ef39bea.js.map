{"version":3,"sources":["webpack:///./src/Routes/RosPage/ros-page.scss","webpack:///./src/Routes/RosPage/ros-page.scss?5e76","webpack:///./src/Routes/RosPage/RosPage.js"],"names":["exports","___CSS_LOADER_API_IMPORT___","push","module","i","content","options","transform","undefined","update","locals","hot","accept","newContent","a","b","key","idx","Error","dispose","RosTable","asyncComponent","RosPage","props","state","page","perPage","window","insights","chrome","auth","getUser","this","fetchSystems","pagination","setState","totalSystems","systemsData","Fragment","title","className","itemCount","onSetPage","_e","updatePagination","onPerPageSelect","isCompact","widgetId","loading","systems","variant","React","Component","propTypes","PropTypes","bool","array","number","func","withRouter","connect","systemsTableState","dispatch","params","systemsTableActions"],"mappings":"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","file":"js/RosPage.7a53f91918fc6ef39bea.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ros-primary-toolbar.ins-c-primary-toolbar .ins-c-primary-toolbar__pagination{margin-left:auto}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./ros-page.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./ros-page.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./ros-page.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { PrimaryToolbar, TableToolbar } from '@redhat-cloud-services/frontend-components';\nimport { Main, PageHeader, PageHeaderTitle } from '@redhat-cloud-services/frontend-components';\nimport { Card, CardBody } from '@patternfly/react-core';\nimport './ros-page.scss';\nimport { systemsTableActions } from '../../Components/RosTable/redux';\nimport { Pagination } from '@patternfly/react-core';\n\nimport asyncComponent from '../../Utilities/asyncComponent';\nconst RosTable = asyncComponent(() => import('../../Components/RosTable/RosTable'));\n\n/**\n * A smart component that handles all the api calls and data needed by the dumb components.\n * Smart components are usually classes.\n *\n * https://reactjs.org/docs/components-and-props.html\n * https://medium.com/@thejasonfile/dumb-components-and-smart-components-e7b33a698d43\n */\n\nclass RosPage extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            page: 1,\n            perPage: 10\n        };\n\n    }\n\n    async componentDidMount() {\n        await window.insights.chrome.auth.getUser();\n        this.props.fetchSystems({ page: this.state.page, perPage: this.state.perPage });\n    }\n\n    updatePagination(pagination) {\n        this.setState(pagination);\n        this.props.fetchSystems(pagination);\n    }\n\n    render() {\n        const { totalSystems, systemsData  } = this.props;\n        const { page, perPage } = this.state;\n\n        return (\n            <React.Fragment>\n                <PageHeader>\n                    <PageHeaderTitle title='Resource Optimization'/>\n                </PageHeader>\n                <Main>\n                    <Card className='pf-t-light  pf-m-opaque-100'>\n                        <CardBody>\n                            <PrimaryToolbar className=\"ros-primary-toolbar\" pagination={{\n                                page: (totalSystems === 0 ? 0 : page),\n                                perPage,\n                                itemCount: (totalSystems ? totalSystems : 0),\n                                onSetPage: (_e, page) => this.updatePagination({ page, perPage: this.state.perPage }),\n                                onPerPageSelect: (_e, perPage) => this.updatePagination({ page: 1, perPage }),\n                                isCompact: true,\n                                widgetId: 'ros-pagination-top'\n                            }}\n                            />\n                            { (!this.props.loading) ? (<RosTable systems = { systemsData }/>) : null }\n                            <TableToolbar>\n                                <Pagination\n                                    itemCount={ totalSystems ? totalSystems : 0 }\n                                    widgetId='ros-pagination-bottom'\n                                    page={ totalSystems === 0 ? 0 : page }\n                                    perPage={ perPage }\n                                    variant='bottom'\n                                    onSetPage={(_e, page) => this.updatePagination({ page, perPage: this.state.perPage })}\n                                    onPerPageSelect={(_e, perPage) => this.updatePagination({ page: 1, perPage })}\n                                />\n                            </TableToolbar>\n                        </CardBody>\n                    </Card>\n                </Main>\n            </React.Fragment>\n        );\n    };\n};\n\nfunction mapStateToProps(state) {\n    return {\n        loading: state.systemsTableState.RosTable.loading,\n        systemsData: state.systemsTableState.RosTable.systemsData,\n        totalSystems: state.systemsTableState.RosTable.totalSystems\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        fetchSystems: (params = {}) => dispatch(systemsTableActions.fetchSystems(params))\n    };\n}\n\nRosPage.propTypes = {\n    loading: PropTypes.bool,\n    systemsData: PropTypes.array,\n    totalSystems: PropTypes.number,\n    fetchSystems: PropTypes.func\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(RosPage));\n"],"sourceRoot":""}